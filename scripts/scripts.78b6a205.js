"use strict";angular.module("backAnd.directives",[]),angular.module("backAnd.filters",[]),angular.module("backAnd.controllers",[]),angular.module("backAnd.services",[]),angular.module("backAnd",["ngRoute","ngResource","ui.bootstrap","ngMap","timer","backAnd.filters","backAnd.services","backAnd.directives","backAnd.controllers","ngFileUpload"]).config(["$routeProvider","$httpProvider",function(a,b){b.interceptors.push("interceptorService"),backand.options.url=backandGlobal.url,a.when("/",{templateUrl:"partials/default.html"}).when("/login",{templateUrl:"partials/login/login.html"}).when("/grids",{templateUrl:"partials/grids/grids.html"}).when("/dashboard",{templateUrl:"partials/dashboard/dashboard.html"}).when("/forms",{templateUrl:"partials/forms/forms.html"}).when("/navigation",{templateUrl:"partials/navigation/navigation.html"}).otherwise({redirectTo:"/"})}]),angular.module("backAnd.controllers").controller("initController",["$scope","Global","$compile","menuService","$timeout","$rootScope","$http","$location","$route",function(a,b,c,d,e,f,g,h){a.global=b,a.MostarMenu=!1,localStorage.getItem("Authorization")?a.MostarMenu=!0:a.MostarMenu=!1,a.init=function(){localStorage.getItem("Authorization")?("/login"==h.$$path&&h.path("/"),g.defaults.headers.common.Authorization=localStorage.getItem("Authorization"),backand.security.authentication.token=g.defaults.headers.common.Authorization):h.path("/login")},a.isGrid=function(){return h.path().indexOf("grid")!=-1}}]),function(a,b){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(function(){return b()}):a.pluralize=b()}(this,function(){function a(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}function b(a){return"string"==typeof a?new RegExp("^"+a+"$","i"):a}function c(b,c){return b===b.toUpperCase()?c.toUpperCase():b[0]===b[0].toUpperCase()?a(c):c.toLowerCase()}function d(a,b){return a.replace(/\$(\d{1,2})/g,function(a,c){return b[c]||""})}function e(a,b,e){if(!a.length||j.hasOwnProperty(a))return b;for(var f=e.length;f--;){var g=e[f];if(g[0].test(b))return b.replace(g[0],function(a,b,e){var f=d(g[1],arguments);return""===a?c(e[b-1],f):c(a,f)})}return b}function f(a,b,d){return function(f){var g=f.toLowerCase();return b.hasOwnProperty(g)?c(f,g):a.hasOwnProperty(g)?c(f,a[g]):e(g,f,d)}}function g(a,b,c){var d=1===b?g.singular(a):g.plural(a);return(c?b+" ":"")+d}var h=[],i=[],j={},k={},l={};return g.plural=f(l,k,h),g.singular=f(k,l,i),g.addPluralRule=function(a,c){h.push([b(a),c])},g.addSingularRule=function(a,c){i.push([b(a),c])},g.addUncountableRule=function(a){return"string"==typeof a?void(j[a.toLowerCase()]=!0):(g.addPluralRule(a,"$0"),void g.addSingularRule(a,"$0"))},g.addIrregularRule=function(a,b){b=b.toLowerCase(),a=a.toLowerCase(),l[a]=b,k[b]=a},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["thief","thieves"],["genie","genies"],["groove","grooves"],["pickaxe","pickaxes"],["whiskey","whiskies"]].forEach(function(a){return g.addIrregularRule(a[0],a[1])}),[[/s?$/i,"s"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|tlas|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[emjzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/(m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(a){return g.addPluralRule(a[0],a[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(?:sis|ses)$/i,"$1sis"],[/(^analy)(?:sis|ses)$/i,"$1sis"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(^[pl]|zomb|^(?:neck)?t|[aeo][lt]|cut)ies$/i,"$1ie"],[/(\b(?:mon|smil))ies$/i,"$1ey"],[/(m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|tlas|gas|(?:her|at|gr)o|ris)(?:es)?$/i,"$1"],[/(e[mn]u)s?$/i,"$1"],[/(movie|twelve)s$/i,"$1"],[/(cris|test|diagnos)(?:is|es)$/i,"$1is"],[/(alumn|syllab|octop|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(a){return g.addSingularRule(a[0],a[1])}),["advice","adulthood","agenda","aid","alcohol","ammo","athletics","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","commerce","cod","cooperation","corps","digestion","debris","diabetes","energy","equipment","elk","excretion","expertise","flounder","fun","gallows","garbage","graffiti","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","media","mews","moose","music","news","pike","plankton","pliers","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","species","staff","swine","trout","traffic","transporation","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pox$/i,/ois$/i,/deer$/i,/fish$/i,/sheep$/i,/measles$/i,/[^aeiou]ese$/i].forEach(g.addUncountableRule),g});var backand={options:{url:"",version:"1",getUrl:function(a){return this.url+"/"+this.version+a},ajax:function(a,b,c,d,e){},verbs:{get:"GET",put:"PUT",post:"POST",delete:"DELETE"}},security:{banner:{url:"/api/banner",getAdminInfo:function(){var a=null;return backand.options.ajax(backand.options.url+backand.security.banner.url,null,backand.options.verbs.post,function(b){a=b},function(a,b,c){a?a.responseJSON?a.responseJSON.error_description?console.error("ERROR: "+a.responseJSON.error_description):c?console.error("ERROR: "+JSON.stringify(c)):console.error("ERROR: Failed to getAdminInfo"):console.error("ERROR: "+JSON.stringify(a)):c?console.error("ERROR: "+JSON.stringify(c)):console.error("ERROR: Failed to getAdminInfo")}),a}},authentication:{url:"/token",token:null,onlogin:null,addLoginEvent:function(a){null==backand.security.authentication.onlogin&&(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)?(backand.security.authentication.onlogin=document.createEvent("CustomEvent"),backand.security.authentication.onlogin.initCustomEvent("onlogin",!1,!1,{appname:a})):backand.security.authentication.onlogin=new CustomEvent("onlogin",{appname:a}))},login:function(a,b,c,d,e){backand.security.authentication.addLoginEvent(),backand.options.ajax(backand.options.url+backand.security.authentication.url,{grant_type:"password",username:a,password:b,appname:c},backand.options.verbs.post,function(a){backand.security.authentication.token=a.token_type+" "+a.access_token,document.dispatchEvent(backand.security.authentication.onlogin),d&&d(a)},function(a,b,c){e&&a&&e(a,b,c)},!0)}},unlock:function(a,b,c){var d=backand.options.getUrl("/account/unlock");backand.options.ajax(d,JSON.stringify({username:a}),backand.options.verbs.post,b,c)}},api:{app:{url:"/app/config",getConfig:function(a,b){var c=backand.options.getUrl(backand.api.app.url);backand.options.ajax(c,null,backand.options.verbs.get,a,b)}},view:{config:{url:"/view/config/",getItem:function(a,b,c){var d=backand.options.getUrl(backand.api.view.config.url+a);backand.options.ajax(d,null,backand.options.verbs.get,b,c)},getList:function(a,b,c,d,e,f,g,h){var i=backand.options.getUrl(backand.api.view.config.url),j={withSelectOptions:a,pageNumber:b,pageSize:c,filter:JSON.stringify(d),sort:JSON.stringify(e),search:f};backand.options.ajax(i,j,backand.options.verbs.get,g,h)},getFieldByName:function(a,b){if(!a.hashFieldsByName){a.hashFieldsByName={};for(var c=0;c<a.fields.length;c++){var d=a.fields[c];a.hashFieldsByName[d.name]=d}}return a.hashFieldsByName[b]}},data:{url:"/view/data/",getItem:function(a,b,c,d,e){var f=backand.options.getUrl(backand.api.view.data.url+a+"/"+b),g={deep:c};backand.options.ajax(f,g,backand.options.verbs.get,d,e)},getList:function(a,b,c,d,e,f,g,h,i){var j=backand.options.getUrl(backand.api.view.data.url+a),k={withSelectOptions:b,pageNumber:c,pageSize:d,filter:JSON.stringify(e),sort:JSON.stringify(f),search:g};backand.options.ajax(j,k,backand.options.verbs.get,h,i)},createItem:function(a,b,c,d){var e=backand.options.getUrl(backand.api.view.data.url+a);backand.options.ajax(e,b,backand.options.verbs.post,c,d)},updateItem:function(a,b,c,d,e){var f=backand.options.getUrl(backand.api.view.data.url+a+"/"+b);backand.options.ajax(f,c,backand.options.verbs.put,d,e)},deleteItem:function(a,b,c,d){var e=backand.options.getUrl(backand.api.view.data.url+a+"/"+b);backand.options.ajax(e,null,backand.options.verbs.delete,c,d)},autoComplete:function(a,b,c,d,e){var f=backand.options.getUrl(backand.api.view.data.url+"autocomplete/"+a+"/"+b);backand.options.ajax(f,c,backand.options.verbs.get,d,e)}}},dashboard:{config:{url:"/dashboard/config/",getItem:function(a,b,c){var d=backand.options.getUrl(backand.api.dashboard.config.url+a);backand.options.ajax(d,null,backand.options.verbs.get,b,c)},getList:function(a,b,c,d,e,f,g,h){var i=backand.options.getUrl(backand.api.dashboard.config.url),j={withSelectOptions:a,pageNumber:b,pageSize:c,filter:JSON.stringify(d),sort:JSON.stringify(e),search:f};backand.options.ajax(i,j,backand.options.verbs.get,g,h)}},data:{url:"/dashboard/data/",getItem:function(a,b,c){var d=backand.options.getUrl(backand.api.dashboard.data.url+a);backand.options.ajax(d,null,backand.options.verbs.get,b,c)}}},chart:{config:{url:"/chart/config/",getItem:function(a,b,c){var d=backand.options.getUrl(backand.api.chart.config.url+a);backand.options.ajax(d,null,backand.options.verbs.get,b,c)},getList:function(a,b,c,d,e,f,g,h){var i=backand.options.getUrl(backand.api.chart.config.url),j={withSelectOptions:a,pageNumber:b,pageSize:c,filter:JSON.stringify(d),sort:JSON.stringify(e),search:f};backand.options.ajax(i,j,backand.options.verbs.get,g,h)}},data:{url:"/chart/data/",getItem:function(a,b,c){var d=backand.options.getUrl(backand.api.chart.data.url+a);backand.options.ajax(d,null,backand.options.verbs.get,b,c)}}},content:{config:{url:"/content/config/",getItem:function(a,b,c){var d=backand.options.getUrl(backand.api.content.config.url+a);backand.options.ajax(d,null,backand.options.verbs.get,b,c)},getList:function(a,b,c,d,e,f,g,h){var i=backand.options.getUrl(backand.api.content.config.url),j={withSelectOptions:a,pageNumber:b,pageSize:c,filter:JSON.stringify(d),sort:JSON.stringify(e),search:f};backand.options.ajax(i,j,backand.options.verbs.get,g,h)}}}},filter:{item:function(a,b,c){this.fieldName=a,this.operator=b,this.value=c},operator:{numeric:{equals:"equals",notEquals:"notEquals",greaterThan:"greaterThan",greaterThanOrEqualsTo:"greaterThanOrEqualsTo",lessThan:"lessThan",lessThanOrEqualsTo:"lessThanOrEqualsTo",empty:"empty",notEmpty:"notEmpty"},date:{equals:"equals",notEquals:"notEquals",greaterThan:"greaterThan",greaterThanOrEqualsTo:"greaterThanOrEqualsTo",lessThan:"lessThan",lessThanOrEqualsTo:"lessThanOrEqualsTo",empty:"empty",notEmpty:"notEmpty"},text:{equals:"equals",notEquals:"notEquals",startsWith:"startsWith",endsWith:"endsWith",contains:"contains",notContains:"notContains",empty:"empty",notEmpty:"notEmpty"},boolean:{equals:"equals"},relation:{in:"in"}}},sort:{item:function(a,b){this.fieldName=a,this.order=b},order:{asc:"asc",desc:"desc"}},defaultFieldValue:function(a,b){this.fieldName=a,this.value=b}};backand.filter.item.prototype.constructor=backand.filter.item,backand.filter.item.prototype.fieldName=function(){return this.fieldName},backand.filter.item.prototype.operator=function(){return this.operator},backand.filter.item.prototype.value=function(){return this.value},backand.sort.item.prototype.constructor=backand.sort.item,backand.sort.item.prototype.fieldName=function(){return this.fieldName},backand.sort.item.prototype.order=function(){return this.order},backand.defaultFieldValue.prototype.constructor=backand.defaultFieldValue,backand.defaultFieldValue.prototype.fieldName=function(){return this.fieldName},backand.defaultFieldValue.prototype.value=function(){return this.value},backand.security.authentication.login("nir",123456789,"manager",function(a){backand.api.view.data.getList("list")},null),backand.options.ajax=function(a,b,c,d,e,f){$.ajax({url:a,async:!1,type:c,beforeSend:function(a){f||a.setRequestHeader("Authorization",backand.security.authentication.token)},data:b,dataType:"json",cache:!1,error:function(a,b,c){c&&e(a,b,c)},success:function(a,b,c){d&&d(a,b,c)}})};var MAP_DEFAULT_POSITION={pos:[6.2527682,-75.5652314],address:""},URL_API_UPLOAD_IMAGES="http://apps.fintic.co/AppEngineApi/api/Upload/UploadImages/",url="http://apps.fintic.co/AppEngineApi",runtime="http://apps.fintic.co/appenginedashboard";try{url=myUrl}catch(a){}var backandGlobal={url:url,runtime:runtime,defaultApp:null,enableBusy:!0};$(document).ready(function(){angular.element(document).ready(function(){backand.security.authentication.addLoginEvent(),document.dispatchEvent(backand.security.authentication.onlogin)})});var zfill=function(a,b){return(Array(b).join("0")+a).slice(-b)};angular.module("backAnd").factory("configService",["$resource",function(a){return a(backandGlobal.url+"/api/:dataType/config/:id/:entityId",{dataType:"view",id:"",entityId:""},{read:{method:"GET",params:{callback:"JSON_CALLBACK"}}})}]),angular.module("backAnd.services").value("version","0.1"),angular.module("backAnd.services").factory("menuService",["$resource",function(a){return a(backandGlobal.url+"/api/app/config",{workspaceId:"workspaceId"},{queryjsonp:{method:"GET",params:{callback:"JSON_CALLBACK"}}})}]),angular.module("backAnd.services").factory("userInfoService",["$resource",function(a){return a(backandGlobal.url+"/api/account/userInfo",{},{read:{method:"GET",params:{}}})}]),angular.module("backAnd.services").service("UserAppsService",["$http","$rootScope",function(a,b){this.GetUserApps=function(){return a.get(backandGlobal.url+"/api/account/userApps?$format=json")}}]),angular.module("backAnd.services").service("contextValuesService",["$http","$rootScope",function(a,b){this.transformODataQuery=function(a){for(var b=a.split("#"),d="",e=0;e<b.length;e++)d+=c(b[e]);return d};var c=function(a){switch(a){case"CurrentUser":return e();case"UrlBase":return d();case"Now":return f()}return a},d=function(){return backandGlobal.url},e=function(){return localStorage.getItem("userName")},f=function(){return(new Date).toJSON().slice(0,10)}}]),angular.module("backAnd.services").service("WorkFlowService",["$http","$rootScope",function(a,b){this.PostActionWorkFlow=function(b,c){var d=a({method:"post",url:backandGlobal.url+"/api/workflow/execute?actionId="+b,data:c});return d}}]),angular.module("backAnd").factory("dataListService",["$resource",function(a,b){return a(backandGlobal.url+"/"+backandGlobal.currentApp.name+"/api/:dataType/data/:viewName?$format=json&$top=:pageSize&$skip=:pageNumber&$inlinecount=allpages",{dataType:"view",viewName:"",pageSize:"",pageNumber:"",withSelectOptions:"",filter:"",sort:"",search:""},{read:{method:"GET",params:{callback:"JSON_CALLBACK"}}})}]),angular.module("backAnd").factory("dataItemService",["$resource",function(a){return a(backandGlobal.url+"/:app/api/:dataType/data/:viewName(guid':id')?$format=json:qs",{dataType:"view",viewName:"",id:"id",qs:"",app:backandGlobal.currentApp.name},{read:{method:"GET",params:{callback:"JSON_CALLBACK"}},create:{url:backandGlobal.url+"/"+backandGlobal.currentApp.name+"/api/:dataType/data/:viewName?$format=json:qs",method:"POST",params:{callback:"JSON_CALLBACK"}},update:{method:"PUT",params:{callback:"JSON_CALLBACK"},headers:{"Content-Type":"application/json"}},delete:{method:"DELETE",params:{callback:"JSON_CALLBACK"}}})}]),angular.module("backAnd.services").factory("Global",[function(){var a=this;return a._data={user:window.user,authenticated:!!window.user},a._data}]),angular.module("backAnd").factory("filterService",["$http","$log","Global",function(a,b,c){return{getFilterOptions:function(b,d){c.filterOptions||(c.filterOptions=[]),c.filterOptions[b]?d(c.filterOptions[b]):a.get(backandGlobal.url+"/"+backandGlobal.currentApp.name+"/api/view/data/"+b,{params:{$top:10,$skip:0,withFilterOptions:!0}}).then(function(a){c.filterOptions[b]=a.data.filterOptions,d(c.filterOptions[b])})}}}]),angular.module("backAnd").factory("interceptorService",["$q","$location","$rootScope",function(a,b,c){var d={},e=0,f=function(a){return e++,backandGlobal.enableBusy&&c.$broadcast("loader_show"),a},g=function(b){return 0===--e&&c.$broadcast("loader_hide"),b||a.when(b)},h=function(b){return--e||c.$broadcast("loader_hide"),a.reject(b)};return d.request=f,d.responseError=h,d.response=g,d}]),function(){function a(a){this.signIn=function(b,c,d,e){var f=a({method:"POST",url:backandGlobal.url+"/token",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},data:{grant_type:"password",username:b,password:c}});f.success(function(b,c,e,f){a.defaults.headers.common.Authorization=b.token_type+" "+b.access_token,d(b,c,e,f)}),f.error(function(a,b,c,d){e(a,b,c,d)})}}angular.module("backAnd").service("AuthService",["$http",a])}(),angular.module("backAnd.controllers").controller("menuController",["$scope","Global","$compile","menuService","$timeout","$rootScope","$http","$location","$route","UserAppsService",function(a,b,c,d,e,f,g,h,i,j){f.pages=[],a.global=b,a.loadMenu=function(b,c){return sessionStorage.currentApp&&(backandGlobal.currentApp=JSON.parse(sessionStorage.currentApp)),void 0==b?void j.GetUserApps().then(function(b,c){a.additionalWorkspaces=b.data,sessionStorage.workspaceId?a.loadMenu(sessionStorage.workspaceId):a.loadMenu(b.data[0].Id)}):void d.queryjsonp({workspaceId:b},function(b){if(backandGlobal.currentApp=b.workspace,sessionStorage.currentApp=JSON.stringify(b.workspace),a.currentWorkspace=b.workspace,sessionStorage.workspaceId=b.workspace.id,sessionStorage.workspace=b.workspace.name,f.pages=b.workspace.pages,h.search("workspaceId",b.workspace.id),a.$broadcast("appConfigCompleted",b),e(function(){$(window).trigger("appConfigCompleted",b)}),c){var d=a.getHomePage(a.currentWorkspace,a.currentWorkspace.homePage);d&&a.setCurrentMenuSelection(d)}},function(a){401==a.status&&(localStorage.removeItem("Authorization"),h.path("/login"))})},a.$on("signedIn",function(b){a.loadMenu()}),a.changeWorkspace=function(b){a.loadMenu(b),h.path("/")},a.getHomePage=function(b,c){for(var d=0;d<b.pages.length;d++){var e=b.pages[d];if(e.id==c)return e;if(e.pages)return a.getHomePage(e,c)}return null},a.setCurrentMenuSelection=function(b,c){if(void 0==b.isModule&&null==b.isModule){var d=window.matchMedia("(min-width: 800px)");d.matches||(jQuery(this).removeClass("menu-collapsed"),$(".sticky-left-side").hide()),"table"==b.partType?(h.search({viewName:b.partId,workspaceId:a.currentWorkspace.id,entityId:b.entityId}),h.path("/grids")):"dashboard"==b.partType?(h.search({dashboardId:b.partId}),h.path("/dashboard")):"content"==b.partType&&(h.search({contentId:b.partId}),h.path("/content")),a.curTable=b.index,a.setBreadcrumbs(b,c),a.$broadcast("menuItemSelected",b)}},a.setBreadcrumbs=function(b,c){a.breadcrumbs=[{name:a.currentWorkspace.name}],c&&a.breadcrumbs.push(c),a.breadcrumbs.push(b)}}]),angular.module("backAnd.controllers").controller("profileController",["$scope","Global","userInfoService",function(a,b,c){a.Mostrar=!1,localStorage.getItem("Authorization")?a.Mostrar=!0:a.Mostrar=!1,a.global=b,a.init=function(){c.read({},function(b){a.profile||(a.profile={}),a.profile.title="",a.profile.fullName=b.Email,a.profile.username=b.Email})},a.logOut=function(){localStorage.removeItem("Authorization"),window.location.reload()}}]),angular.module("backAnd.controllers").controller("signInController",["$scope","Global","$http","$location","$rootScope","$route","AuthService",function(a,b,c,d,e,f,g){function h(){if(backandGlobal.defaultApp)return backandGlobal.defaultApp;var a=location.hostname.split(".");return a.length>1?a[0]:""}a.global=b,a.appName=h(),d.search().username&&(a.user=d.search().username),d.search().password&&(a.password=d.search().password),a.waiting=!1,a.authentication=function(){a.loginError="",a.waiting=!0,g.signIn(a.user,a.password,function(b,f,g,h){localStorage.setItem("Authorization",c.defaults.headers.common.Authorization),c.defaults.headers.common.Authorization=localStorage.getItem("Authorization"),backand.security.authentication.token=c.defaults.headers.common.Authorization,d.path("/"),location.reload(),e.$broadcast("signedIn",b),localStorage.setItem("userName",a.user)},function(b,c,d,e){var f="The server is busy. Please contact your administrator or try again later.";b&&b.error_description?f=b.error_description:console.error(f,{data:b,status:c,headers:d,config:e}),a.loginError=f,a.waiting=!1})}}]);var backAndFilters=angular.module("backAnd.filters",[]);backAndFilters.filter("interpolate",["version",function(a){return function(b){return String(b).replace(/\%VERSION\%/gm,a)}}]),backAndFilters.directive("isDate",function(){return{require:"ngModel",link:function(a,b,c,d){}}}),backAndFilters.directive("toNumber",function(){return{require:"ngModel",link:function(a,b,c,d){return d.$parsers.push(function(a){return parseFloat(a||"")})}}}),backAndFilters.filter("parseInt",function(){return function(a,b){return parseInt(a)}}),backAndFilters.filter("removeSpaces",function(){return function(a){return a.replace(" ","")}}),angular.module("backAnd.directives",["ui.bootstrap","textAngular","ui.bootstrap.datetimepicker","kendo.directives","ngFileUpload","toaster"]).directive("bkndNgGrid",["Global","dataListService","dataItemService","configService","$filter","filterService","$location","$route","$sce","$compile","$window","contextValuesService","$rootScope",function(a,b,c,d,e,f,g,h,i,j,k,l,m){return{restrict:"E",scope:{viewName:"=",options:"=",filterOptions:"=",inputStyle:"=",buttonGroups:"=",disableEditOnDblClick:"="},replace:!1,templateUrl:"backand/js/directives/grids/partials/grid.html",link:function(b){b.slideData=[],b.global=a,b.isMobile=$(window).width()<768,b.$watch("viewName",function(){b.viewName?(b.viewNameId=b.viewName,b.buildNewGrid(b.viewNameId,g.search().entityId)):"/grids"==g.$$path&&g.search().viewName&&(b.viewNameId=g.search().viewName,b.NameEntity=b.viewNameId.split("_")[2],b.buildNewGrid(b.viewNameId,g.search().entityId))}),b.buildNewGrid=function(a,c){b.entityId=c,b.myPromise=d.read({dataType:"list",id:a,entityId:c},function(a){b.fieldsToMap=[],b.fieldToSlide={images:[],names:[],description:[]},b.fieldToScheduler={title:{field:[],fieldName:[]},start:[],end:[],description:{field:[],fieldName:[]}},b.configTable=a,b.showToolbar=!b.configTable||!b.configTable.toolbarSettings||!b.configTable.toolbarSettings.hideToolbar,b.showSearch=!b.configTable||!b.configTable.design||!b.configTable.design.hideSearchBox,b.showAdd=!b.configTable||!b.configTable.dataEditing||b.configTable.dataEditing.allowAdd,b.showEdit=!b.configTable||!b.configTable.dataEditing||b.configTable.dataEditing.allowEdit,b.showDelete=!b.configTable||!b.configTable.dataEditing||b.configTable.dataEditing.allowDelete,b.showFilter=b.configTable&&!b.configTable.hideFilter,b.collapseFilter=b.configTable&&!b.configTable.collapseFilter;var c=[];c.push({command:[{template:"<a class='btn btn-sm' ng-click='editSelected(this)'><i class='glyphicon glyphicon-pencil'></i></a>"},{template:"<a class='btn btn-sm' ng-click='deleteSelected(this)'><i class='glyphicon glyphicon-trash'></i></a>"}]}),b.configTable.Actions.length>0&&(buttons=[],b.configTable.Actions.forEach(function(a,b){buttons.push({template:" <button type='button' class='btn btn-warning'  ng-click='redirect(\""+a.QueryString+"\", this)'>"+a.Name+"</button>"})}),c.push({command:buttons})),b.configTable.fields.forEach(function(a,d){var e={field:a.name,title:a.displayName,filterable:!0};if(a.isToMapa&&"Map"==a.type&&(field_evaluate=a,void 0!=field_evaluate.campoParentId&&""!=field_evaluate.campoParentId?(real_field=$.grep(b.configTable.fields,function(a,b){return field_evaluate.campoParentId===a.campoId}),b.fieldsToMap.push(b.configTable.selectOptions[real_field[0].name][0].endPoint.view+"."+a.name)):b.fieldsToMap.push(a.name)),a.isToCarrusel&&(a.carrusel.isImagen&&b.fieldToSlide.images.push(a.name),a.carrusel.isNombre&&b.fieldToSlide.names.push(a.name),a.carrusel.isDescription&&b.fieldToSlide.description.push(a.name)),a.isToScheduler){var f=a.name;void 0!=a.campoParentId&&""!=a.campoParentId&&"00000000-0000-0000-0000-000000000000"!=a.campoParentId&&(f=a.entityParent+"."+a.name),a.scheduler.IsTitle&&(b.fieldToScheduler.title.fieldName.push(f),b.fieldToScheduler.title.field.push(a)),a.scheduler.IsStart&&b.fieldToScheduler.start.push(f),a.scheduler.IsEnd&&b.fieldToScheduler.end.push(f),a.scheduler.IsDescription&&(b.fieldToScheduler.description.fieldName.push(f),b.fieldToScheduler.description.field.push(a))}switch(a.type){case"Image":break;case"Map":if(void 0!=a.campoParentId&&""!=a.campoParentId&&"00000000-0000-0000-0000-000000000000"!=a.campoParentId){var f=a.entityParent+"."+a.name;e={field:f,title:a.displayName,filterable:!0,template:"#= "+a.entityParent+"? JSON.parse("+f+").address: '' #"}}else e={field:a.name,title:a.displayName,filterable:!0,template:"#= JSON.parse("+a.name+").address #"};break;case"LongText":break;case"Url":break;case"MultiSelect":break;case"SingleSelect":if("AutoCompleteStartWith"==a.displayFormat||"AutoCompleteMatchAny"==a.displayFormat){var g=b.configTable.selectOptions[a.name][0].endPoint.view,f=b.configTable.selectOptions[a.name][0].endPoint.view+"."+b.configTable.selectOptions[a.name][0].endPoint.defaultField;e={field:f,title:a.displayName,filterable:!0,template:"#= "+g+"? "+f+": '' #"}}break;default:if(void 0!=a.campoParentId&&""!=a.campoParentId&&"00000000-0000-0000-0000-000000000000"!=a.campoParentId){var f=a.entityParent+"."+a.name;e={field:f,title:a.displayName,filterable:!0,template:"#= "+a.entityParent+"? "+f+": '' #"}}else e={field:a.name,title:a.displayName,filterable:!0}}c.push(e)});var d="";if(b.configTable.filter)d=l.transformODataQuery(b.configTable.filter.Query);else{var e="";angular.forEach(a.selectOptions,function(a,b){void 0!=a[0].endPoint&&(e+=a[0].endPoint.view+",")}),d=""===e?backandGlobal.url+"/"+backandGlobal.currentApp.name+"/api/view/data/"+b.viewNameId+"?$top=30":backandGlobal.url+"/"+backandGlobal.currentApp.name+"/api/view/data/"+b.viewNameId+"?$expand="+e}b.url=d,b.mainGridOptions={toolbar:["excel","pdf"],excel:{description:"Exportar a Excel",proxyURL:"Datos Grilla",type:"odata",allPages:!0,filterable:!0,sortable:!0,pageable:!0,fileName:"Hoja Grilla "+b.NameEntity,title:"Hoja",autoFitColumn:!0,info:"Exportar al Excel:"},pdf:{landscape:!0,scale:.75,fileName:"Datos Grilla "+b.NameEntity,allPages:!0,margin:{top:"3cm",left:"2cm",right:"4cm",bottom:"3cm"},info:"Exportar a pdf."},dataSource:{type:"odata",transport:{read:{url:d}},schema:{data:function(a){return a.value},total:function(a){return a["odata.count"]}},serverFiltering:!0,serverPaging:!0,serverSorting:!0,requestEnd:function(a){void 0==a.response&&($("#grid-general-map").hide(),$("#grid-general-slide").hide())}},height:560,resizable:!0,dataBound:function(a){var c=a.sender._data;if(0==c.length)return $("#grid-general-map").hide(),void $("#grid-general-slide").hide();b.getDataToMap(c),b.getSlideImages(c),b.ShowScheduler(c);for(var d=0;d<a.sender.columns.length;d++)a.sender.autoFitColumn(d)},columns:c,sortable:!0,pageable:{refresh:!0},filterable:{operators:{string:{eq:"Sean iguales a",neq:"No sean iguales a",startswith:"Comiencen con",contains:"Contengan",endswith:"Terminen con"},number:{eq:"Sean iguales a",neq:"No sean iguales a",gte:"Sean mayor o igual a",gt:"Sean mayor a",lte:"Sean menor o iguales a",lt:"Sean menores a"},date:{eq:"Sean iguales a",neq:"No sean iguales a",gte:"Sean antes o en",gt:"Sean antes de",lte:"Sean despues o en",lt:"Sean despues"},enums:{eq:"Son iguales a",neq:"No son iguales a"}},messages:{info:"Muestra los datos que:",filter:"Filtrar",clear:"Limpar",and:"Y",or:"O"}}}})},b.ShowScheduler=function(a){return 0==b.fieldToScheduler.title.length?void $("#grid-general-scheduler").hide():($("#grid-general").hide(),void b.$broadcast("refreshScheduler",b.url,b.fieldToScheduler,b.configTable.Actions))},b.getSlideImages=function(a){return b.slideData=[],0==b.fieldToSlide.length?void $("#grid-general-slide").hide():(angular.forEach(a,function(a){if(b.fieldToSlide.images.length>0||b.fieldToSlide.names.length>0||b.fieldToSlide.description.length>0)var c={image:"",name:"",description:""};angular.forEach(b.fieldToSlide.images,function(b){void 0!=a[b]&&""!=a[b]&&(c.image=URL_API_UPLOAD_IMAGES+JSON.parse(a[b])[0])}),angular.forEach(b.fieldToSlide.names,function(b){void 0!=a[b]&&(c.name+=a[b]+" ")}),angular.forEach(b.fieldToSlide.description,function(b){void 0!=a[b]&&(c.description+=a[b]+" ")}),void 0!=c&&b.slideData.push(c)}),void b.$broadcast("refreshSlide",b.slideData))},b.getDataToMap=function(a){return b.mapData=[],0==b.fieldsToMap.length?void $("#grid-general-map").hide():(angular.forEach(a,function(a){angular.forEach(b.fieldsToMap,function(c){navigation_field=c.split("."),fieldToSave=a,map_processed=!1,angular.forEach(navigation_field,function(a){void 0!=fieldToSave[a]&&(fieldToSave=fieldToSave[a],map_processed=!0)}),void 0!=fieldToSave&&map_processed&&b.mapData.push(JSON.parse(fieldToSave))})}),void b.$broadcast("tripLoaded",b.mapData))},b.showClearFilter=!1,b.editSelected=function(a){return window.localStorage.IdSelectedItem=a.dataItem.Id,b.showEdit?(g.search({rowId:a.dataItem.Id,viewName:b.viewNameId,entityId:b.entityId}),void g.path("/forms")):void toastr.error(e.CanNotEdit)},b.addRow=function(){var a=null;if(!b.showAdd)return void toastr.error(e.CanNotCreate);if(b.filterOptions){a=[];var c=JSON.parse(b.filterOptions);angular.forEach(c,function(b){var c=new backand.defaultFieldValue(b.fieldName,b.value);a.push(c)})}g.search({viewName:b.viewNameId,entityId:b.entityId,defaultFieldsValues:angular.toJson(a)}),g.path("/forms")};var e={confirm:"�Est� seguro que desea eliminar este registro?",failure:"No se pudo eliminar el registro.",idMissing:"No se encontr� el Id.",tableMissing:"No se encontr� la api.",CanNotDelete:"No tiene permisos para eliminar los registros.",
CanNotEdit:"No tiene permisos para editar los registros.",CanNotCreate:"No tiene Permisos para crear registros.",Success:"El registro fue eliminado."};b.deleteSelected=function(a){if(!b.showDelete)return void b.MostrarMensaje("error",e.CanNotDelete);if(confirm(e.confirm)){var d=a.dataItem.Id;if(!d)return console.error(e.idMissing),void b.MostrarMensaje("error",e.failure);var f=b.viewNameId;if(!f)return console.error(e.tableMissing),void b.MostrarMensaje("error",e.failure);var g={dataType:"view",id:d,viewName:f};try{b.myPromise=c.delete(g),b.MostrarMensaje("success",e.Success);var h=0;h++}catch(a){console.error(a.description),b.MostrarMensaje("error",e.failure)}}},b.MostrarMensaje=function(a,b){toastr[a](b),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}},b.redirect=function(a,b){var c=a.split("?")[1].split("&");angular.forEach(m.pages,function(a){""!=a.isModule&&null!=a.isModule&&angular.forEach(a.pages,function(a){if(a.id==c[0].split("=")[1]){for(var d="",e=3;e<c.length;e++){var f=c[e].split("=")[1];f="selectedItem"==f?b.dataItem.Id:b.dataItem[f.split(".")[1]],""!=d&&(d+="&"),d+=c[e].split("=")[0]+"="+f}g.path("/forms"),g.search({viewName:a.partId,entityId:a.id,defaultFieldsValues:null});var h=g.url();g.url(h+"&"+d)}})})}}}}]).directive("ngBlur",function(){return function(a,b,c){b.bind("blur",function(){a.$apply(c.ngBlur)})}}),angular.module("backAnd.directives").directive("bkndDashboard",["Global","$http","configService","$location","$sce",function(a,b,c,d,e){return{restrict:"E",templateUrl:"backand/js/directives/dashboard/partials/dashboard.html",replace:!1,scope:{dashboardId:"=",filterOptions:"=",colorsOptions:"="},link:function(a){var b=backandGlobal.runtime+"/dashboardsviewer?DashboardId="+location.hash.split("=")[1];a.Url=e.trustAsResourceUrl(b),a.$watch("dashboardId",function(){a.build(a.getDashboardId())}),a.$watch("filterOptions",function(b,c){a.filterOptions&&a.build(a.getDashboardId())},!0),a.getDashboardId=function(){return a.dashboardId?a.dashboardId:d.search().dashboardId?d.search().dashboardId:null},a.build=function(b){c.read({dataType:"dashboard",id:b},function(b){a.numCol=12/b.columns,a.chartData=[],angular.forEach(b.widgets,function(a,b){this.push({type:a.type,id:a.__metadata.id})},a.chartData)})}}}}]),angular.module("backAnd.directives").directive("appVersion",["version",function(a){return function(b,c){c.text(a)}}]),angular.module("backAnd.directives").directive("customIcon",[function(){return{restrict:"C",scope:{iconType:"="},link:function(a,b,c){"table"==a.iconType&&b.addClass("fa fa-table"),"dashboard"==a.iconType&&b.addClass("fa fa-dashboard"),"charts"==a.iconType&&b.addClass("fa fa-bar-chart-o"),"content"==a.iconType&&b.addClass("fa fa-th")}}}]),angular.module("backAnd.directives").directive("columnchart",["dataItemService",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"backand/js/directives/charts/partials/chart.html"},replace:!0,scope:{chartId:"=",filterOptions:"=",colorsOptions:"=",dashboardScope:"="},link:function(b,c){b.load=function(b,c){a.read({dataType:"chart",id:b.chartId,qs:b.filterOptions},function(a){b.$emit("onStartChartLoad",b,a),b.title=a.Title,b.subTitle=a.SubTitle,b.xTitle=a.XTitle,b.yTitle=a.YTitle;var d="bcdefghijklmnopqrstuvwxyz",e={element:c.find(".chart"),data:a.xAxis.reduce(function(b,c,e){for(var f={a:c},g=0;g<a.Data.length;g++)f[d.charAt(g)]=a.Data[g].data[e];return b.push(f),b},[]),barColors:b.colorsOptions?b.colorsOptions:["#00a65a","#f56954"],xkey:"a",ykeys:d.substr(0,a.Data.length).split(""),labels:a.Data.map(function(a){return a.name}),hideHover:"auto",xLabelAngle:45};b.$emit("onBeforeChartLoad",b,a,e),b.chart?b.chart.setData(e.data):b.chart=Morris.Bar(e),b.$emit("onAfterChartLoad",b,a,e)})},b.$watch("filterOptions",function(a,d){b.filterOptions&&a!=d&&b.load(b,c)},!0),b.load(b,c)}}}]).directive("linechart",["dataItemService",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"backand/js/directives/charts/partials/chart.html"},replace:!0,scope:{chartId:"=",filterOptions:"=",colorsOptions:"=",dashboardScope:"="},link:function(b,c){b.load=function(b,c){a.read({dataType:"chart",id:b.chartId,qs:b.filterOptions},function(a){b.$emit("onStartChartLoad",b,a),b.title=a.Title,b.subTitle=a.SubTitle,b.xTitle=a.XTitle,b.yTitle=a.YTitle;var d="bcdefghijklmnopqrstuvwxyz",e={element:c.find(".chart"),data:a.xAxis.reduce(function(b,c,e){for(var f={a:c},g=0;g<a.Data.length;g++)f[d.charAt(g)]=a.Data[g].data[e];return b.push(f),b},[]),lineColors:b.colorsOptions?b.colorsOptions:["#3c8dbc"],parseTime:!1,xkey:"a",ykeys:d.substr(0,a.Data.length).split(""),labels:a.Data.map(function(a){return a.name}),hideHover:"auto",xLabelAngle:45};b.$emit("onBeforeChartLoad",b,a,e),b.chart?b.chart.setData(e.data):b.chart=Morris.Line(e),b.$emit("onAfterChartLoad",b,a,e)})},b.$watch("filterOptions",function(a,d){b.filterOptions&&a!=d&&b.load(b,c)},!0),b.load(b,c)}}}]).directive("donutchart",["dataItemService",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"backand/js/directives/charts/partials/donutchart.html"},replace:!0,scope:{chartId:"=",filterOptions:"=",colorsOptions:"=",dashboardScope:"="},link:function(b,c){b.load=function(b,c){a.read({dataType:"chart",id:b.chartId,qs:b.filterOptions},function(a){b.$emit("onStartChartLoad",b,a),b.title=a.Title,b.subTitle=a.SubTitle;var d=0;a.Data[0].data.forEach(function(a){d+=a[1]});var e={element:c.find(".chart"),data:a.Data[0].data.map(function(a){return{label:a[0],value:parseFloat((a[1]/d*100).toFixed(2))}}),colors:b.colorsOptions?b.colorsOptions:["#3c8dbc","#f56954","#00a65a"],hideHover:"auto"};b.$emit("onBeforeChartLoad",b,a,e),b.chart?b.chart.setData(e.data):b.chart=Morris.Donut(e),b.$emit("onAfterChartLoad",b,a,e)})},b.$watch("filterOptions",function(a,d){b.filterOptions&&a!=d&&b.load(b,c)},!0),b.load(b,c)}}}]).directive("barchart",["dataItemService",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"backand/js/directives/charts/partials/chart.html"},replace:!0,scope:{chartId:"=",filterOptions:"=",colorsOptions:"=",dashboardScope:"="},link:function(b,c){b.load=function(b,c){a.read({dataType:"chart",id:b.chartId,qs:b.filterOptions},function(a){b.$emit("onStartChartLoad",b,a),b.title=a.Title,b.subTitle=a.SubTitle,b.xTitle=a.XTitle,b.yTitle=a.YTitle;var d="bcdefghijklmnopqrstuvwxyz",e={element:c.find(".chart"),data:a.xAxis.reduce(function(b,c,e){for(var f={a:c},g=0;g<a.Data.length;g++)f[d.charAt(g)]=a.Data[g].data[e];return b.push(f),b},[]),barColors:b.colorsOptions?b.colorsOptions:["#00a65a","#f56954"],xkey:"a",ykeys:d.substr(0,a.Data.length).split(""),labels:a.Data.map(function(a){return a.name}),horizontal:!0,stacked:!0,hideHover:"auto",xLabelAngle:45};b.$emit("onBeforeChartLoad",b,a,e),b.chart?b.chart.setData(e.data):b.chart=Morris.Bar(e),b.$emit("onAfterChartLoad",b,a,e)})},b.$watch("filterOptions",function(a,d){b.filterOptions&&a!=d&&b.load(b,c)},!0),b.load(b,c)}}}]).directive("splinechart",["dataItemService",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"backand/js/directives/charts/partials/chart.html"},replace:!0,scope:{chartId:"=",filterOptions:"=",colorsOptions:"=",dashboardScope:"="},link:function(b,c){b.load=function(b,c){a.read({dataType:"chart",id:b.chartId,qs:b.filterOptions},function(a){b.$emit("onStartChartLoad",b,a),b.title=a.Title,b.subTitle=a.SubTitle,b.xTitle=a.XTitle,b.yTitle=a.YTitle;var d="bcdefghijklmnopqrstuvwxyz",e={element:c.find(".chart"),data:a.xAxis.reduce(function(b,c,e){for(var f={a:c},g=0;g<a.Data.length;g++)f[d.charAt(g)]=a.Data[g].data[e];return b.push(f),b},[]),lineColors:b.colorsOptions?b.colorsOptions:["#0b62a4","#7A92A3"],parseTime:!1,xkey:"a",ykeys:d.substr(0,a.Data.length).split(""),labels:a.Data.map(function(a){return a.name}),hideHover:"auto",xLabelAngle:45};b.$emit("onBeforeChartLoad",b,a,e),b.chart?b.chart.setData(e.data):b.chart=Morris.Line(e),b.$emit("onAfterChartLoad",b,a,e)})},b.$watch("filterOptions",function(a,d){b.filterOptions&&a!=d&&b.load(b,c)},!0),b.load(b,c)}}}]).directive("areachart",["dataItemService",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"backand/js/directives/charts/partials/chart.html"},replace:!0,scope:{chartId:"=",filterOptions:"=",colorsOptions:"=",dashboardScope:"="},link:function(b,c){b.load=function(b,c){a.read({dataType:"chart",id:b.chartId,qs:b.filterOptions},function(a){b.$emit("onStartChartLoad",b,a),b.title=a.Title,b.subTitle=a.SubTitle,b.xTitle=a.XTitle,b.yTitle=a.YTitle;var d="bcdefghijklmnopqrstuvwxyz",e={element:c.find(".chart"),data:a.xAxis.reduce(function(b,c,e){for(var f={a:c},g=0;g<a.Data.length;g++)f[d.charAt(g)]=a.Data[g].data[e];return b.push(f),b},[]),lineColors:b.colorsOptions?b.colorsOptions:["#0b62a4","#7A92A3"],parseTime:!1,xkey:"a",ykeys:d.substr(0,a.Data.length).split(""),labels:a.Data.map(function(a){return a.name}),hideHover:"auto",xLabelAngle:45};b.$emit("onBeforeChartLoad",b,a,e),b.chart?b.chart.setData(e.data):b.chart=Morris.Area(e),b.$emit("onAfterChartLoad",b,a,e)})},b.$watch("filterOptions",function(a,d){b.filterOptions&&a!=d&&b.load(b,c)},!0),b.load(b,c)}}}]).directive("bubblechart",["dataItemService",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"backand/js/directives/charts/partials/chart.html"},replace:!0,scope:{chartId:"=",filterOptions:"=",colorsOptions:"=",dashboardScope:"="},link:function(b,c){b.load=function(b,c){a.read({dataType:"chart",id:b.chartId,qs:b.filterOptions},function(a){b.$emit("onStartChartLoad",b,a),b.title=a.Title,b.subTitle=a.SubTitle,b.xTitle=a.XTitle,b.yTitle=a.YTitle;var d="bcdefghijklmnopqrstuvwxyz",e={element:c.find(".chart"),data:a.xAxis.reduce(function(b,c,e){for(var f={a:c},g=0;g<a.Data.length;g++)f[d.charAt(g)]=a.Data[g].data[e];return b.push(f),b},[]),lineColors:b.colorsOptions?b.colorsOptions:["#0b62a4","#7A92A3"],pointSize:15,lineWidth:0,parseTime:!1,xkey:"a",ykeys:d.substr(0,a.Data.length).split(""),labels:a.Data.map(function(a){return a.name}),hideHover:"auto",xLabelAngle:45};b.$emit("onBeforeChartLoad",b,a,e),b.chart?b.chart.setData(e.data):b.chart=Morris.Line(e),b.$emit("onAfterChartLoad",b,a,e)})},b.$watch("filterOptions",function(a,d){b.filterOptions&&a!=d&&b.load(b,c)},!0),b.load(b,c)}}}]),angular.module("backAnd.directives").directive("bkndForm",["$sce","$q","$location","$route","configService","dataItemService","dataListService","$log","Global","$rootScope","WorkFlowService","$http",function($sce,$q,$location,$route,configService,dataItemService,dataListService,$log,Global,$rootScope,WorkFlowService,$http){return{restrict:"AE",transclude:!0,templateUrl:"backand/js/directives/forms/partials/form.html",scope:{viewName:"=",rowId:"=",defaultFieldsValues:"=",isDetails:"=",entityId:"=",entityParentId:"=",parent:"="},link:function(scope){scope.configInfo={fields:[],categoriesDictionary:{},title:"",id:null};var searchParams=$location.search();scope.init=function(a){scope.isNew=!a.rowId,scope.continue=!1,scope.Load=!1;var b=$q.defer(),c=$q.defer(),d=$q.defer();if(configService.read({dataType:"view",id:a.viewName,entityId:a.entityId},function(c){b.resolve(c),d.resolve(c),Global.selectOptions||(Global.selectOptions=[]),Global.selectOptions[a.viewName]||(Global.selectOptions[a.viewName]=c.selectOptions)}),scope.isNew||(scope.myPromise=dataItemService.read({dataType:"view",viewName:a.viewName,id:a.rowId,app:backandGlobal.currentApp.name},function(a){c.resolve(a)})),Global.selectOptions||(Global.selectOptions=[]),scope.isNew){var e={};if(a.defaultFieldsValues){var f=JSON.parse(a.defaultFieldsValues);angular.forEach(f,function(a){e[a.fieldName]=a.value})}Global.selectOptions[a.viewName]?$q.all([b.promise]).then(function(b){scope.processForm(b[0],e,a)}):$q.all([b.promise,d.promise]).then(function(b){scope.processForm(b[0],e,a)})}else Global.selectOptions[a.viewName]?$q.all([b.promise,c.promise]).then(function(b){scope.processForm(b[0],b[1],a)}):$q.all([b.promise,c.promise,d.promise]).then(function(b){scope.processForm(b[0],b[1],a)});scope.dataToSubmit=null;var g={failure:"Fallo para actualizar la entidad.",success:"Registro actualizado."},h={failure:"Error al crear la entidad.",success:"Registro guardado."};scope.submitCaption=scope.isNew?"Crear":"Actualizar",scope.submitAndContinueCaption=scope.isNew?"Crear y seguir":"",scope.submit=function(){scope.Load=!0;var a=scope.isNew?h:g;scope.submitAction(a)},scope.setFieldValue=function(a){var b=a.value.val;if("00000000-0000-0000-0000-000000000000"==a.campoParentId)if(void 0!=b&&""!=b)switch(a.type){case"singleSelect":scope.dataToSubmit[a.name]=b&&b.value?b.value:"";break;case"hyperlink":scope.dataToSubmit[a.name]=a.value&&a.value.linkText?a.value.linkText+"|"+(a.value.target?"_blank":"_self")+"|"+a.value.url:"";break;case"percentage":scope.dataToSubmit[a.name]=a.value&&a.value.val?(b/100).toFixed(2):b;break;case"currency":scope.dataToSubmit[a.name]=JSON.stringify(b);break;case"numeric":scope.dataToSubmit[a.name]=JSON.stringify(b);break;case"numberWithSeparator":scope.dataToSubmit[a.name]=JSON.stringify(b);break;case"map":scope.dataToSubmit[a.name]=JSON.stringify(b);break;case"carrousel":scope.dataToSubmit[a.name]=JSON.stringify(b);break;case"datetime":if(b.toString().length>20)scope.dataToSubmit[a.name]=b;else{var c=new Date(b.replace("T"," "));scope.dataToSubmit[a.name]=c}break;case"detalles":if(scope.isNew){var d=a.gridDetails.endPoint.view+"s";scope.dataToSubmit[d]=b}break;default:scope.dataToSubmit[a.name]=b?b:""}else"detalles"!=a.type&&delete scope.dataToSubmit[a.name]},scope.submitAction=function(b){angular.forEach(scope.configInfo.fields,function(a){scope.setFieldValue(a)}),angular.forEach(scope.configInfo.categories,function(a){angular.forEach(a.sections,function(a){angular.forEach(a.fields,function(a){scope.setFieldValue(a)})})}),angular.forEach(scope.configInfo.selectOptions,function(a,b){scope.dataToSubmit[b+"_navigation"]&&delete scope.dataToSubmit[b+"_navigation"]}),scope.waiting=!0,scope.alerts=[],scope.closeAlert=function(a){scope.alerts.splice(a,1)};var c=null;c=scope.isNew?{dataType:"view",viewName:a.viewName}:{dataType:"view",viewName:a.viewName,id:a.rowId,app:backandGlobal.currentApp.name};var d=function(a){if(scope.Load=!1,500==a.status){if(console.error(a.data,a),void 0!=a.data["odata.error"].innererror.internalexception)var c=a.data["odata.error"].innererror.internalexception.internalexception.message;else var c=a.data["odata.error"].innererror.message;null!=c?(scope.alerts=[{type:"danger",msg:c}],scope.MostrarMensaje("error",c)):(scope.alerts=[{type:"danger",msg:b.failure}],scope.MostrarMensaje("error",b.failure))}else console.warn(a.data,a),scope.alerts=[{type:"danger",msg:a.data}],scope.MostrarMensaje("error",b.failure)};scope.isNew?scope.isDetails&&!scope.entityParentId?scope.$emit("detailsAdded",scope.dataToSubmit):(scope.dataToSubmit[scope.parent]=scope.entityParentId,scope.myPromise=dataItemService.create(c,JSON.stringify(scope.dataToSubmit),function(a){scope.MostrarMensaje("success",b.success),scope.isDetails?scope.closeDetails():$route.reload()},d)):scope.myPromise=dataItemService.update(c,JSON.stringify(scope.dataToSubmit),function(a){scope.waiting=!1,scope.MostrarMensaje("success",b.success),scope.isDetails&&scope.closeDetails()},d)}},scope.MostrarMensaje=function(a,b){toastr[a](b),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}},scope.$watch("viewName",function(a,b){scope.viewName?scope.rowId?scope.init({viewName:scope.viewName,rowId:scope.rowId,entityId:scope.entityId,isDetails:scope.isDetails}):scope.init({viewName:scope.viewName,entityId:scope.entityId,isDetails:scope.isDetails}):scope.init(searchParams)}),scope.cancelar=function(){if(scope.isDetails)return void scope.closeDetails();var a=($rootScope.pages,$location.search().viewName);angular.forEach($rootScope.pages,function(b){""!=b.isModule&&null!=b.isModule?angular.forEach(b.pages,function(b){b.partId==a&&$location.search({viewName:b.partId,workspaceId:sessionStorage.workspaceId,entityId:b.id})}):b.partId==a&&$location.search({viewName:b.partId,workspaceId:sessionStorage.workspaceId,entityId:b.id}),$location.path("/grids")})},scope.closeDetails=function(a){scope.$emit("closeDetails",a)},scope.WorkFlow=function(a){angular.forEach(scope.configInfo.fields,function(a){scope.setFieldValue(a)}),angular.forEach(scope.configInfo.categories,function(a){angular.forEach(a.sections,function(a){angular.forEach(a.fields,function(a){scope.setFieldValue(a)})})});var b=JSON.stringify(scope.dataToSubmit);WorkFlowService.PostActionWorkFlow(a.Action.ActionId,b)},scope.processForm=function(a,b,c){scope.configInfo.Actions=[],angular.forEach(a.Actions,function(a){scope.configInfo.Actions[a.Name]||scope.configInfo.Actions.push(a)}),scope.dataToSubmit=b,scope.configInfo.title=a.captionText,scope.configInfo.rules=a.rules,scope.configInfo.columnsInDialog=a.dataEditing.columnsInDialog,scope.configInfo.editable=scope.isNew&&a.dataEditing.allowAdd||!scope.isNew&&a.dataEditing.allowEdit,scope.configInfo.selectOptions=a.selectOptions;var d=0,e=0,f="";angular.forEach(a.fields,function(a){""!=f&&f==a.sectionName||(f=a.sectionName,d=0,e=0);var g,h;switch(a.type){case"Numeric":g="number","Currency"==a.displayFormat?(g="currency",h="$"):g="Percentage"==a.displayFormat?"percentage":"NumberWithSeparator"==a.displayFormat?"numberWithSeparator":"numeric";break;case"Entero":g="numeric";break;case"DateTime":g="Date_mm_dd"!=a.displayFormat&&"Date_dd_mm"!=a.displayFormat&&"None"!=a.displayFormat&&"Date"!=a.displayFormat&&a.displayFormat?"datetime":"date";break;case"LongText":g="MultiLines"==a.displayFormat?"textarea":"MultiLinesEditor"==a.displayFormat?"editor":"text";break;case"SingleSelect":g="AutoCompleteStartWith"==a.displayFormat||"AutoCompleteMatchAny"==a.displayFormat||"SingleSelectRe"==a.displayFormat?"combobox":"singleSelect";break;case"MultiSelect":g="Grid"==a.displayFormat?scope.isNew?"disabledSubgrid":"subgrid":"CheckList"==a.displayFormat?"multiSelect":"text";break;case"ShortText":g="MultiLines"==a.displayFormat?"textarea":"MultiLinesEditor"==a.displayFormat?"editor":"Hyperlink"==a.displayFormat?"hyperlink":"Email"==a.displayFormat?"email":"Password"==a.displayFormat?"password":"text";break;case"Boolean":g="checkbox";break;case"Url":g="hyperlink";break;case"Email":g="email";break;case"Image":g="image";break;case"Map":g="map";break;case"cronometro":g="cronometro";break;case"carrousel":g="carrousel";break;case"Detalles":g="detalles";break;default:g="text"}var i="";i=scope.isNew?b[a.name]||a.advancedLayout.defaultValue||"":b[a.name]||"";var j={campoId:a.campoId,campoParentId:a.campoParentId,name:a.name,displayName:a.displayName,type:g,value:{val:i},hr:a.formLayout.addhorizontallineabouvethefield,seperatorTitle:a.formLayout.seperatorTitle,columns:a.formLayout.columnSpanInDialog,preLabel:a.formLayout.preLabel,postLabel:a.formLayout.postLabel,show:scope.isNew?!a.form.hideInCreate:!a.form.hideInEdit,disabled:scope.isNew?a.form.disableInCreate:a.form.disableInEdit,required:a.advancedLayout.required,viewName:c.viewName,relatedViewName:a.relatedViewName,relatedParentFieldName:a.relatedParentFieldName,minimumValue:a.advancedLayout.minimumValue,maximumValue:a.advancedLayout.maximumValue,tooltip:a.grid.tooltip,defaultValue:a.advancedLayout.defaultValue,gridDetails:a.gridDetails,IsEditable:a.IsEditable};if("Entero"!=j.type&&"numeric"!=j.type&&"numberWithSeparator"!=j.type&&"number"!=j.type&&"currency"!=j.type&&"percentage"!=j.type||null==j.defaultValue||(j.defaultValue=parseInt(j.defaultValue),a.advancedLayout.defaultValue=parseInt(a.advancedLayout.defaultValue)),a.categoryName&&j.show?(scope.configInfo.categoriesDictionary[a.categoryName]||(scope.configInfo.categoriesDictionary[a.categoryName]={catName:a.categoryName,sections:{}}),scope.configInfo.categoriesDictionary[a.categoryName].sections[a.sectionName]||(scope.configInfo.categoriesDictionary[a.categoryName].sections[a.sectionName]={sectionName:a.sectionName,NroColumn:a.ColumnsSection,rows:[],fields:[]}),scope.configInfo.categoriesDictionary[a.categoryName].sections[a.sectionName].fields.push(j),e>=a.ColumnsSection&&(d+=1,e=0),0==e&&(scope.configInfo.categoriesDictionary[a.categoryName].sections[a.sectionName].rows[d]={fields:[]}),e+=1,scope.configInfo.categoriesDictionary[a.categoryName].sections[a.sectionName].rows[d].fields.push(j)):scope.configInfo.fields.push(j),"singleSelect"==j.type||"multiSelect"==j.type)Global.selectOptions&&Global.selectOptions[c.viewName]&&(j.options=Global.selectOptions[c.viewName][j.name]),scope.isNew?j.inlineEditing=a.form.inlineAdding:j.inlineEditing=a.form.inlineEditing;else if("autocomplete"==g||"combobox"==g)Global.selectOptions&&Global.selectOptions[c.viewName]&&Global.selectOptions[c.viewName][j.name]&&(j.options=Global.selectOptions[c.viewName][j.name]),scope.isNew?(j.selected=i,i&&(j.value.val=i.value)):scope.loadRelatedData(b,j.options,j.name,j);else if("currency"==g)j.currencySymbol=h,j.value.val=Number(i);else if("numberWithSeparator"==g)j.value.val=Number(i);else if("hyperlink"==g){var k="",l="",m="";if(b[a.name]){var n=b[a.name].split("|");3==n.length?(k=n[2],l=n[0],m=n[1]):(k=b[a.name],l=b[a.name])}j.value.url=k,j.value.linkText=l,j.value.target=m}else"date"==g?(j.format=a.advancedLayout.format,scope.isNew||(j.value.val=b[a.name])):"percentage"==g?j.value.val=i?100*i:i:"image"==g&&(j.urlPrefix=a.urlPrefix);j.errors={required:"Campo requerido.",minimumValue:"Debe ser mayor que "+j.minimumValue,maximumValue:"Debe ser menor que "+j.maximumValue,number:"Debe ser un numero",email:"Debe ser un correo v�lido"},j.filterSubgrid=function(){var a=new backand.filter.item(j.relatedParentFieldName,backand.filter.operator.relation.in,b.__metadata.id);return angular.toJson([a])};for(var o,p=window.location.hash.split("&"),q=2;q<p.length;q++)if(o=p[q].split("=")[0],a.name==o&&(j.value.val=p[q].split("=")[1],j.options)){var r=j.options[0].endPoint,s="&$filter=Id eq guid'"+j.value.val+"'",t="?$format=json"+s,k=backandGlobal.url+r.url+r.view+t;return $http.get(k).then(function(b){scope.$emit("relChanged",b.data.value[0],j.value.val,a)})}}),scope.configInfo.categories=[];angular.forEach(a.categories,function(a){scope.configInfo.categoriesDictionary[a.name]&&(scope.configInfo.categoriesDictionary[a.name].columnsInDialog=a.columnsInDialog,angular.forEach(a.Sections,function(a){}),scope.configInfo.categories.push(scope.configInfo.categoriesDictionary[a.name]))}),scope.isNew||(scope.configInfo.id=b.Id)},scope.applyUIRUles=function(event,fieldChanged,value){if(scope.configInfo.rules){var rules=scope.configInfo.rules.filter(function(a){var b=JSON.parse(a.RuleDefinition);return b.condition.toLowerCase().indexOf(fieldChanged.campoId.toLowerCase())!=-1});angular.forEach(rules,function(r){var rule1=JSON.parse(r.RuleDefinition);eval(rule1.condition)?angular.forEach(rule1.results,function(a){var b=scope.getCampoById(a.fieldId);if(b)switch(a.result){case"hide":b.show=!1;break;case"disabled":b.disabled=!0}}):angular.forEach(rule1.results,function(a){var b=scope.getCampoById(a.fieldId);if(b)switch(a.result){case"hide":b.show=!0;break;case"disabled":b.disabled=!1}})})}},scope.getCampoById=function(a){var b;return angular.forEach(scope.configInfo.categories,function(c){angular.forEach(c.sections,function(c){angular.forEach(c.fields,function(c){b||c.campoId.toLowerCase()==a.toLowerCase()&&(b=c)})})}),b},scope.getFieldValue=function(a){var b=scope.getCampoById(a);return b?b.value.val:null},scope.fieldHasValue=function(a){var b=scope.getFieldValue(a);return""!=b&&null!=b&&void 0!=b},scope.isNullOrEmpty=function(a){return!fieldHasValue(a)},scope.loadRelatedData=function(a,b,c,d){if(void 0!=b&&void 0!=b[0].endPoint&&void 0!=a[c]){var e=a[c],f=b[0].endPoint.url,g="&$select=Id,"+b[0].endPoint.defaultField;dataItemService.read({dataType:"view",viewName:b[0].endPoint.view,id:e,qs:g,app:f.split("/")[1]},function(e){a[c+"_navigation"]=e[b[0].endPoint.defaultField],d.selected=a[c+"_navigation"];var f=d.options[0].endPoint,g="&$filter=substringof('"+e[d.options[0].endPoint.defaultField]+"', "+f.defaultField+")",h="?$format=json&$top=50"+g,i=backandGlobal.url+f.url+f.view+h;return $http.get(i).then(function(a){return angular.forEach(a.data.value,function(a){a.value=a.Id,a.label=a[d.options[0].endPoint.defaultField],a.name=a[d.options[0].endPoint.defaultField],scope.$emit("relChanged",a,a.value,d)}),a.data.value})})}},scope.$on("relChanged",function(a,b,c,d){angular.forEach(a.currentScope.configInfo.categories,function(a){angular.forEach(a.sections,function(a){angular.forEach(a.fields,function(a){if(b){if(d.campoId==a.campoParentId)switch(a.type){case"map":a.value.val=JSON.parse(b[a.name]);break;case"currency":case"numberWithSeparator":a.value.val=Number(b[a.name]);break;case"carrousel":a.value.val=JSON.parse(b[a.name]),scope.$broadcast("imageRefresh");break;default:a.value.val=b[a.name]}}else if(d.campoId==a.campoParentId)switch(a.type){case"map":a.value.val=MAP_DEFAULT_POSITION;break;case"currency":case"numberWithSeparator":a.value.val=null;break;case"carrousel":scope.$broadcast("clearCarrousel");break;default:a.value.val=null}})})})}),scope.$on("applyUIRUles",scope.applyUIRUles),scope.renderHtml=function(a){return $sce.trustAsHtml(a)},scope.tabClick=function(a){angular.forEach(a.fields,function(a){a.relatedViewName=a.tempRelatedViewName})}}}}]).filter("parseLabel",function(){return function(a,b){return b&&b.hideLabel?"":a}}).directive("showtab",function(){return{link:function(a,b){b.click(function(a){a.preventDefault(),$(b).tab("show")})}}}),angular.module("backAnd.directives").directive("bkndContent",["Global","$http","configService","$sce","$location",function(a,b,c,d,e){return{restrict:"E",templateUrl:"backand/js/directives/content/partials/content.html",replace:!1,scope:{contentId:"="},link:function(a,b,d){a.$watch("contentId",function(){a.contentId?a.setData(a.contentId):e.search().contentId&&a.setData(e.search().contentId)}),a.setData=function(b){c.read({dataType:"content",id:b},function(b){a.content=b})}}}}]),angular.module("backAnd.directives").directive("htmlcontent",["configService",function(a){return{restrict:"E",templateUrl:"backand/js/directives/content/partials/htmlcontent.html",replace:!1,scope:{contentId:"="},link:function(b,c){a.read({dataType:"content",id:b.contentId},function(a){var b=angular.element(a.content);c.append(b)})}}}]),angular.module("backAnd.directives").directive("iframecontent",["configService",function(a){return{restrict:"E",templateUrl:"backand/js/directives/content/partials/iframecontent.html",replace:!1,scope:{contentId:"="},link:function(b,c){b.getDefaultIFrameHeight=function(){var a=$("#id"+b.contentId).position().top,c=$(window).height()-a-50;return c},a.read({dataType:"content",id:b.contentId},function(a){var d=c.find("iframe");d.attr("src",a.iFrameURL),a.width?d.attr("width",a.width):d.attr("width","100%"),a.height?d.attr("height",a.height):d.attr("height",b.getDefaultIFrameHeight()),a.scroll&&d.attr("scrolling","no")})}}}]),angular.module("backAnd.directives").directive("linkcontent",["configService",function(a){return{restrict:"E",replace:!1,scope:{contentId:"="},link:function(b){a.read({dataType:"content",id:b.contentId},function(a){window.open(a.externalLink,"_blank")})}}}]),angular.module("backAnd.directives").directive("textarea",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",errors:"="},templateUrl:"backand/js/directives/textarea/partials/textarea.html",link:function(a){a.value.val||(a.value.val=a.field.defaultValue)}}}]),angular.module("backAnd.directives").directive("input",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/input/partials/input.html",link:function(a){a.value.val||(a.value.val=a.field.defaultValue)}}}]),angular.module("backAnd.directives").directive("singleSelect",["$location",function(a){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/singleSelect/partials/singleSelect.html",link:function(b){b.options=b.field.options,b.value.val&&angular.forEach(b.options,function(a){a.value==b.value.val&&(b.value.val=a)}),b.inlineEditing=function(){a.search({viewName:b.field.relatedViewName}),a.path("/grids")},b.changed=function(){b.value.val||(b.value.val=null)}}}}]),angular.module("backAnd.directives").directive("autocomplete",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/autocomplete/partials/autocomplete.html",controller:["$scope","$http",function(a,b){a.firstTime=!0,a.loadingItems=!1,a.options=function(c){if(backandGlobal.enableBusy=!1,a.loadingItems=!0,a.noResults=!1,a.firstTime)return a.firstTime=!1,[];var d=a.field.options[0].endPoint,e="&$filter=substringof('"+c+"', "+d.defaultField+")",f="?$format=json&$top=50"+e,g=backandGlobal.url+d.url+d.view+f;return b.get(g).then(function(b){return angular.forEach(b.data.value,function(b){b.value=b.Id,b.label=b[a.field.options[0].endPoint.defaultField],b.name=b[a.field.options[0].endPoint.defaultField]}),a.loadingItems=!1,0==b.data.value.length&&(a.noResults=!0),backandGlobal.enableBusy=!0,b.data.value})},a.setPcode=function(b,c,d,e){a.$emit("relChanged",b,c,a.field),a.field.value.val=b.value}}],link:function(a,b,c,d){c.$set("autocomplete","off")}}}]),angular.module("backAnd.directives").directive("editor",["$log",function(a){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",errors:"="},templateUrl:"backand/js/directives/editor/partials/editor.html",link:function(b){b.value.val||(b.value.val=b.field.defaultValue),b.innerVal={val:b.value.val},b.isInFocus=!1,b.inFocus=function(){a.debug("inFocus"),b.isInFocus=!0},b.isEmpty=!b.innerVal.val,b.outFocus=function(){a.debug("outFocus"),b.value.val=b.innerVal.val,b.isEmpty=!b.innerVal.val}}}}]),angular.module("backAnd.directives").directive("checkbox",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/checkbox/partials/checkbox.html",link:function(a){void 0!==a.value.val&&""!=a.value.val||(a.value.val=!1),"true"==a.value.val&&(a.value.val=!0)}}}]),angular.module("backAnd.directives").directive("link",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/link/partials/link.html",link:function(a){a.isTargetBlank="_blank"==a.value.target,a.targetChange=function(){a.value.target=a.isTargetBlank?"_blank":null}}}}]),angular.module("backAnd.directives").directive("date",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/date/partials/date.html",link:function(a){function b(a){return a}var c=null;a.value.val&&(c="now"==a.value.val.toLowerCase()?new Date:new Date(a.value.val)),a.mydate=b(c),a.opened=!1,a.open=function(b){a.opened=!0},a.dateOptions={formatYear:"yy",startingDay:1},a.$watch("mydate",function(b,c){b?a.value.val=b:a.value.val=null}),a.tooEarly=function(){if(!a.field.minimumValue)return!1;var b=moment(a.mydate);return b.isBefore(moment(a.field.minimumValue))},a.tooLate=function(){if(!a.field.maximumValue)return!1;var b=moment(a.mydate);return b.isAfter(moment(a.field.maximumValue))}}}}]),angular.module("backAnd.directives").directive("numeric",["$log",function(a){
return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/numeric/partials/numeric.html",link:function(a){a.value.val?a.value.val=parseInt(a.value.val):a.value.val=a.field.defaultValue}}}]),angular.module("backAnd.directives").directive("bkndDisabledGrid",[function(){return{restrict:"AE",replace:!0,scope:{message:"="},templateUrl:"backand/js/directives/grids/partials/disabledGrid.html"}}]),angular.module("backAnd.directives").directive("image",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/image/partials/image.html",link:function(a,b,c){a.value.val||(a.value.val=a.field.defaultValue)}}}]),angular.module("backAnd.directives").directive("email",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/email/partials/email.html",link:function(a){a.value.val||(a.value.val=a.field.defaultValue)}}}]),angular.module("backAnd.directives").directive("multiSelect",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/multiSelect/partials/multiSelect.html",controller:["$scope","$http","$sce","$q","$timeout","$log",function(a,b,c,d,e,f){function g(c){f.debug("suggest_state_backand");var e=d.defer();return b.get(backandGlobal.url+"/1/view/data/autocomplete/"+a.field.viewName+"/"+a.field.name,{params:{term:c,limit:20}}).success(function(a){console.log("success",a),e.resolve(a)}).error(function(a){console.log("error",a),e.resolve([])}),e.promise}function h(b){f.debug(b),a.tags=_.uniq(a.tags.concat(b.label)),a.dirty.value=void 0}a.dirty={};var i=_.map(a.field.options,function(a){return{label:a.name,value:a.value}}),j=_.object(_.pluck(i,"value"),_.pluck(i,"label")),k=_.object(_.pluck(i,"label"),_.pluck(i,"value")),l=a.value.val.split(",");a.tags=_.map(l,function(a){return j[a]}),a.dropdownStructure=null,a.dropdownValue=null,a.dropdownStructure={options:_.map(a.field.options,function(a){return a.label=a.name,a}),inlineEditing:!1,show:a.field.show,required:!1,disabled:a.field.disabled,name:a.field.name},a.dropdownValue={val:null},a.$watchCollection("dropdownValue",function(b,c){b&&b.val&&(h(b.val),a.dropdownValue={val:null})}),a.clickDelete=function(b){f.debug(b),a.tags=_.without(a.tags,b)},a.debounce_options={debounce_position:50,debounce_attach:50,debounce_suggest:50,debounce_blur:50},a.autocomplete_options={suggest:g,on_select:h},a.$watchCollection("tags",function(b,c){f.debug("new tags",b);var d=_.map(a.tags,function(a){return k[a]});a.value.val=d.join(",")}),a.options=function(c){return a.firstTime?(a.firstTime=!1,null):b.get(backandGlobal.url+"/1/view/data/autocomplete/"+a.field.viewName+"/"+a.field.name,{params:{term:c,limit:20}}).then(function(a){return a.data})},a.setPcode=function(b){a.field.value.val=b.value}}],link:function(a,b,c,d){}}}]),angular.module("MassAutoComplete",[]).directive("massAutocomplete",["$timeout","$window","$document","$q",function(a,b,c,d){return{restrict:"A",scope:{options:"&massAutocomplete"},transclude:!0,template:'<span ng-transclude></span><div class="ac-container" ng-show="show_autocomplete && results.length > 0" style="position:absolute;"><ul class="ac-menu"><li ng-repeat="result in results" ng-if="$index > 0" class="ac-menu-item" ng-class="$index == selected_index ? \'ac-state-focus\': \'\'"><a href ng-click="apply_selection($index, $event)" ng-bind-html="result.label"></a></li></ul></div>',link:function(a,b){a.container=angular.element(b[0].getElementsByClassName("ac-container")[0])},controller:["$scope",function(e){function f(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function g(){var a=m[0].getBoundingClientRect(),d=(c[0].body.scrollTop||c[0].documentElement.scrollTop||b.pageYOffset,c[0].body.scrollLeft||c[0].documentElement.scrollLeft||b.pageXOffset,e.container[0]);d.style.top=a.top,d.style.left=a.left,d.style.width=a.width+"px"}function h(a,b,d){m!==b&&(m&&s.detach(),b[0]===c[0].activeElement&&(d.on_attach&&d.on_attach(),m=b,n=a,o=d,p=a.$viewValue,e.results=[],e.selected_index=-1,l(),q=e.$watch(function(){return a.$modelValue},function(a,b){a!==r&&(e.results&&(e.results.length=0),g(),y(a))})))}function i(a){e.selected_index=0,e.show_autocomplete=!1,e.waiting_for_suggestion=!0,"string"==typeof a&&a.length>0?d.when(o.suggest(a),function(b){b&&b.length>0?(e.results=[{value:a,label:""}].concat(b),e.show_autocomplete=!0):e.results=[]},function(a){o.on_error&&o.on_error(a)}).finally(function(){e.waiting_for_suggestion=!1}):(e.waiting_for_suggestion=!1,e.$apply())}function j(a){n.$modelValue!==a&&(n.$setViewValue(a),n.$render())}function k(a){var b=e.results[a];return m.val(b.value),e.selected_index=a,b}function l(){angular.element(b).bind(u.RESIZE,x),m.bind(u.BLUR,function(){e.show_autocomplete||a(function(){m&&m[0]===c[0].activeElement||s.detach()},w.debounce_blur)}),m.bind(u.KEYDOWN,function(a){if(!a.shiftKey)switch(a.keyCode){case t.ESC:e.show_autocomplete?(e.show_autocomplete=!1,e.$apply()):m.val(p);break;case t.ENTER:e.show_autocomplete&&e.selected_index>0&&!e.waiting_for_suggestion&&(e.apply_selection(e.selected_index),a.stopPropagation()),e.show_autocomplete=!1,e.$apply();break;case t.TAB:if(!e.show_autocomplete)break;a.preventDefault();case t.DOWN:e.results.length>0&&(e.show_autocomplete?k(e.selected_index+1>e.results.length-1?0:e.selected_index+1):(e.show_autocomplete=!0,e.selected_index=0),e.$apply());break;case t.UP:e.show_autocomplete&&(a.preventDefault(),k(e.selected_index-1>=0?e.selected_index-1:e.results.length-1),e.$apply())}})}var m,n,o,p,q,r,s=this,t={TAB:9,ESC:27,ENTER:13,UP:38,DOWN:40},u={KEYDOWN:"keydown",RESIZE:"resize",BLUR:"blur"},v=e.options()||{},w={debounce_position:v.debounce_position||150,debounce_attach:v.debounce_attach||300,debounce_suggest:v.debounce_suggest||200,debounce_blur:v.debounce_blur||150};e.show_autocomplete=!1;var x=f(g,w.debounce_position);s.attach=f(h,w.debounce_attach);var y=f(i,w.debounce_suggest);s.detach=function(){if(m){var a=m.val();j(a),o.on_detach&&o.on_detach(a),m.unbind(u.KEYDOWN),m.unbind(u.BLUR)}e.show_autocomplete=!1,angular.element(b).unbind(u.RESIZE),q&&q(),e.selected_index=e.results=void 0,n=m=p=void 0},e.apply_selection=function(a){if(m[0].focus(),!(!e.show_autocomplete||a>e.results.length||a<0)){var b=k(a);r=b.value,j(b.value),e.show_autocomplete=!1,o.on_select&&o.on_select(b)}},e.$on("$destroy",function(){s.detach(),e.container.remove()})}]}}]).directive("massAutocompleteItem",function(){return{restrict:"A",require:["^massAutocomplete","ngModel"],scope:!1,link:function(a,b,c,d){c.$set("autocomplete","off"),b.bind("focus",function(){var e=a[c.massAutocompleteItem];if(!e)throw"Invalid options";d[0].attach(d[1],b,e)})}}}),angular.module("backAnd").directive("loading",["$rootScope",function(a){return function(a,b,c){return a.$on("loader_show",function(){return b.show()}),a.$on("loader_hide",function(){return b.hide()})}}]),angular.module("backAnd.directives").directive("mapa",["NgMap",function(a){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/map/partials/mapa.html",link:function(b){function c(){var a=d.getPlace();b.field.value.val.address=a.formatted_address}var d;""===b.field.value.val&&(b.field.value.val=MAP_DEFAULT_POSITION,b.field.value.val.address=""),"object"!=typeof b.field.value.val&&(b.field.value.val=JSON.parse(b.field.value.val)),a.getMap().then(function(a){b.current_map=a,google.maps.event.trigger(a,"resize"),b.map.setZoom(a.getZoom()),b.map.panTo(new google.maps.LatLng(b.field.value.val.pos[0],b.field.value.val.pos[1]))}),b.searchAddress=function(){b.field.value={val:{pos:b.field.value.val.address,address:b.field.value.val.address}},window.setTimeout(function(){b.field.value={val:{pos:[b.current_map.markers.capture_location.position.lat(),b.current_map.markers.capture_location.position.lng()],address:b.field.value.val.address}}},1e3)},b.showInfo=function(a,b){},b.addMarker=function(a){var c=new google.maps.Geocoder,d=new google.maps.LatLng(a.latLng.lat(),a.latLng.lng());c.geocode({latLng:d},function(c,d){d==google.maps.GeocoderStatus.OK?c[1]?b.field.value={val:{pos:[a.latLng.lat(),a.latLng.lng()],name:c[1].formatted_address},address:c[1].formatted_address}:b.field.value={val:{pos:[a.latLng.lat(),a.latLng.lng()],name:"Location not found"},address:"Location not found"}:b.field.value={val:{pos:[a.latLng.lat(),a.latLng.lng()],name:"Geocoder failed due to: "+d},address:"Geocoder failed due to: "+d}})},b.initAutocomplete=function(){d=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]}),d.addListener("place_changed",c)},b.initAutocomplete(),b.geolocate=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){var b={lat:a.coords.latitude,lng:a.coords.longitude},c=new google.maps.Circle({center:b,radius:a.coords.accuracy});d.setBounds(c.getBounds())})}}}}]),angular.module("backAnd.directives").directive("cronometro",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/cronometro/partials/cronometro.html",link:function(a){a.timerRunning=!1,a.startTimer=function(b){b.preventDefault(),a.$broadcast("timer-start"),a.timerRunning=!0},a.stopTimer=function(b){b.preventDefault(),a.$broadcast("timer-stop"),a.timerRunning=!1},a.$on("timer-stopped",function(b,c){a.value.val="PT"+c.hours+"H"+c.minutes+"M"+c.seconds+"."+c.millis+"S"})}}}]),angular.module("backAnd.directives").directive("carrusel",["Upload","toaster",function(a,b){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/carrusel/partials/carrusel.html",link:function(c){c.slides=[],c.interval=3e3,c.noWrapSlides=!1,c.active=0,""!==c.field.value.val&&c.field.value.val||(c.slides=[],c.field.value.val=[]),"object"!=typeof c.field.value.val&&""!==c.field.value.val&&(c.field.value.val=JSON.parse(c.field.value.val)),c.refreshImages=function(){c.clearCarrousel(),angular.forEach(c.field.value.val,function(a,b){c.slides.push(URL_API_UPLOAD_IMAGES+a)})},c.clearCarrousel=function(){c.slides=[]},c.refreshImages(),c.$on("imageRefresh",c.refreshImages),c.$on("clearCarrousel",c.clearCarrousel),c.upload=[],c.fileUploadObj={testString1:"Test string 1",testString2:"Test string 2"},c.onFileSelect=function(b,d){c.translateErrors(d);for(var e=0;e<b.length;e++){var f=b[e];!function(b){c.upload[b]=a.upload({url:url+"/api/Upload/Upload",method:"POST",data:{fileUploadObj:c.fileUploadObj},file:f}).progress(function(a){console.log("percent: "+parseInt(100*a.loaded/a.total))}).success(function(a,b,d,e){c.slides.push(URL_API_UPLOAD_IMAGES+a.fileName),c.field.value.val.push(a.fileName),console.log(a)}).error(function(a,b,c,d){console.log(a)})}(e)}},c.translateErrors=function(a){angular.forEach(a,function(a,c){var d="<ul style='padding-left:0px;'><li><span>"+a.name+"<span></li><li><ul style='padding-left:0px;'>";a.$errorMessages.pattern&&(d+="<li>Tipo de archivo invalido</li>"),a.$errorMessages.maxSize&&(d+="<li>El tamaño no debe exceder los 2MB</li>"),d+="</ul></li></ul>",b.pop("warning","Error",d,1e5,"trustedHtml")})},c.abortUpload=function(a){c.upload[a].abort()}}}}]),angular.module("backAnd.directives").directive("details",["$location","$uibModal","configService","dataItemService",function(a,b,c,d){return{restrict:"AE",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/details/partials/details.html",link:function(e){var f=[];f.push({command:[{template:"<span class='k-button' ng-click='editSelected(this)'>Editar</span>"},{template:"<span class='k-button' ng-click='deleteSelected(this)'>Eliminar</span>"}]}),angular.forEach(e.field.gridDetails.fields,function(a){var b={field:a.name,title:a.displayName};f.push(b)});var g=a.search().rowId;e.showToolbar=!e.configTable||!e.configTable.toolbarSettings||!e.configTable.toolbarSettings.hideToolbar,e.showSearch=!e.configTable||!e.configTable.design||!e.configTable.design.hideSearchBox,e.showAdd=!e.configTable||!e.configTable.dataEditing||e.configTable.dataEditing.allowAdd,e.showEdit=!e.configTable||!e.configTable.dataEditing||e.configTable.dataEditing.allowEdit,e.showDelete=!e.configTable||!e.configTable.dataEditing||e.configTable.dataEditing.allowDelete,e.showFilter=e.configTable&&!e.configTable.hideFilter,e.collapseFilter=e.configTable&&!e.configTable.collapseFilter,e.mainGridOptions={dataSource:{type:"odata",transport:{read:backandGlobal.url+e.field.gridDetails.endPoint.url+"'"+g+"'"},schema:{data:function(a){return a.value},total:function(a){return a["odata.count"]}},pageSize:20,serverPaging:!0,serverFiltering:!0,serverSorting:!0},dataBound:function(a){var b=a.sender._data;return 0==b.length?($("#grid-general-map").hide(),void $("#grid-general-slide").hide()):void(e.myPromise=c.read({dataType:"list",id:e.field.gridDetails.endPoint.view,entityId:e.field.gridDetails.endPoint.entityId},function(a){e.configTable=a,e.loadRelatedData(b)}))},height:300,sortable:!0,pageable:!0,columns:f},e.loadRelatedData=function(a){angular.forEach(a,function(a){var b=e.configTable;angular.forEach(b.selectOptions,function(b,c,e){if(void 0!=b[0].endPoint&&void 0!=a[c]){var f=a[c],g=b[0].endPoint.url,h="";d.read({dataType:"view",viewName:b[0].endPoint.view,id:f,qs:h,app:g.split("/")[1]},function(d){a[c]=d[b[0].endPoint.defaultField]})}})})},e.addRecordDetails=function(a){var c=b.open({animation:!0,templateUrl:"backand/js/directives/details/partials/detailsForm.html",controller:"detailsFormCtrl",size:"lg",resolve:{viewName:function(){return e.field.gridDetails.endPoint.view},rowId:function(){return""},entityId:function(){return e.field.gridDetails.endPoint.entityId},entityParentId:function(){return g},parent:function(){return e.field.gridDetails.endPoint.fKCode}}});c.result.then(function(a){if(a){var b=$("#"+e.field.campoId).data("kendoGrid");b.dataSource.add(a),e.field.value.val||(e.field.value.val=[]),e.field.value.val.push(a)}else h()},function(){})},e.editSelected=function(a){window.localStorage.IdSelectedItem=a.dataItem.Id;var c=b.open({animation:!0,templateUrl:"backand/js/directives/details/partials/detailsForm.html",controller:"detailsFormCtrl",size:"lg",resolve:{viewName:function(){return e.field.gridDetails.endPoint.view},rowId:function(){return a.dataItem.Id},entityId:function(){return e.field.gridDetails.endPoint.entityId},entityParentId:function(){return g},parent:function(){return e.field.gridDetails.endPoint.fKCode}}});c.result.then(function(a){h()},function(){})};var h=function(){var a=$(".k-grid").data("kendoGrid");a.dataSource.read()},i={confirm:"Está seguro que desea eliminar este registro?",failure:"No se pudo eliminar el registro.",idMissing:"No se encontró el Id.",tableMissing:"No se encontró la api.",CanNotDelete:"No tiene permisos para eliminar los registros.",CanNotEdit:"No tiene permisos para editar los registros.",CanNotCreate:"No tiene Permisos para crear registros."};e.deleteSelected=function(a){if(!e.showDelete)return void toastr.error(i.CanNotDelete);if(confirm(i.confirm)){var b=a.dataItem.Id;if(!b)return console.error(i.idMissing),void toastr.error(i.failure);var c=e.field.gridDetails.endPoint.view;if(!c)return console.error(i.tableMissing),void toastr.error(i.failure);var f={dataType:"view",id:b,viewName:c};try{e.myPromise=d.delete(f),h();var g=0;g++}catch(a){console.error(a.description),toastr.error(i.failure)}}}}}}]),angular.module("backAnd.controllers").controller("detailsFormCtrl",["$scope","$uibModalInstance","viewName","rowId","entityId","entityParentId","parent",function(a,b,c,d,e,f,g){a.isDetails=!0,a.viewName=c,a.rowId=d,a.entityId=e,a.entityParentId=f,a.parent=g,a.ok=function(){b.close(a.selected.item)},a.$on("detailsAdded",function(a,c){b.close(c)}),a.$on("closeDetails",function(a){b.close()})}]),angular.module("backAnd.directives").directive("combobox",["$location","$http","contextValuesService",function(a,b,c){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/combobox/partials/combobox.html",link:function(a){a.field.value.val||(a.field.value.val=a.field.defaultValue),a.options={Items:[]},backandGlobal.enableBusy=!1,a.loadingItems=!0,a.noResults=!1;var d=a.field.options[0].endPoint,e="";if(null!=d.filter.Query)var e=c.transformODataQuery(d.filter.Query);else var e=backandGlobal.url+d.url+d.view;a.DataSource={type:"odata",serverFiltering:!0,serverPaging:!0,transport:{read:e},schema:{data:function(a){return a.value},total:function(a){return a["odata.count"]}}},a.changed=function(){if(a.$emit("applyUIRUles",a.field,a.value),a.value.val||a.$emit("relChanged","",a.value.val,a.field),""!=a.value.val){var c=a.field.options[0].endPoint,d="&$filter=Id eq guid'"+a.value.val+"'",e="?$format=json"+d,f=backandGlobal.url+c.url+c.view+e;return b.get(f).then(function(b){return a.$emit("relChanged",b.data.value[0],a.value.val,a.field),b.data.value})}}}}}]),angular.module("backAnd.directives").directive("trip",["NgMap",function(a){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/trip/partials/trip.html",link:function(b){b.waypoints=[],a.getMap().then(function(a){b.current_map=a,b.directionsService=new google.maps.DirectionsService,b.directionsDisplay=new google.maps.DirectionsRenderer({map:b.current_map})}),b.$on("tripLoaded",function(a,c){if(void 0!=c&&c.length>0){b.mapData=c;c.length-1;for(ix=0;ix<c.length;ix++)if(null!=c[ix]){b.firts_point=c[0].pos;break}for(ix=c.length-1;ix>=0;ix--)if(null!=c[ix]){b.last_point=c[ix].pos;break}for(b.start_points=[b.firts_point,b.last_point],ix=1;ix<c.length-1;ix++)null!=c[ix]&&b.waypoints.push({location:new google.maps.LatLng(c[ix].pos[0],c[ix].pos[1]),stopover:!0});b.calculateTrip()}}),b.calculateTrip=function(){google.maps.event.trigger(b.current_map,"resize"),b.current_map.setZoom(b.current_map.getZoom()),b.directionsDisplay.setDirections({routes:[]});var a=new google.maps.LatLng(b.firts_point[0],b.firts_point[1]),c=new google.maps.LatLng(b.last_point[0],b.last_point[1]);b.directionsService.route({origin:a,destination:c,waypoints:b.waypoints,optimizeWaypoints:b.optimize_trip,travelMode:google.maps.TravelMode.DRIVING},function(a,c){c==google.maps.DirectionsStatus.OK?b.directionsDisplay.setDirections(a):window.alert("Directions request failed due to "+c)})}}}}]),angular.module("backAnd.directives").directive("slidedescription",[function(){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/slidedescription/partials/slidedescription.html",link:function(a){a.slideData=[],a.interval=3e3,a.noWrapSlides=!1,a.active=0,a.$on("refreshSlide",function(b,c){return c.length<=0?void angular.element("#grid-general-slide").hide():void(a.slideData=c)})}}}]),angular.module("backAnd.directives").directive("datetime",["$location","$http",function(a,b){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/dateTime/partials/dateTime.html",link:function(a){a.field.value.val||(a.field.value.val=a.field.defaultValue),a.getType=function(a){return typeof a},a.isDate=function(a){return a instanceof Date}}}}]),angular.module("backAnd.directives").directive("navigation",["$location","$http","$rootScope",function(a,b,c){return{restrict:"A",replace:!0,scope:{action:"=",value:"=",form:"=",inputClass:"=",errors:"="},templateUrl:"backand/js/directives/navigation/partials/navigation.html",link:function(b){b.redirect=function(){var d=b.QueryString.split("?")[1].split("&");angular.forEach(c.pages,function(b){""!=b.isModule&&null!=b.isModule&&angular.forEach(b.pages,function(b){b.id==d[0].split("=")[1]&&a.search({viewName:b.partId,entityId:b.id,defaultFieldsValues:null})})})}}}}]),angular.module("backAnd.directives").directive("scheduler",["$location","$http","dataItemService","$rootScope",function($location,$http,dataItemService,$rootScope){return{restrict:"A",replace:!0,scope:{field:"=",value:"=",Url:"="},templateUrl:"backand/js/directives/scheduler/partials/scheduler.html",link:function(scope){kendo.culture("es-ES"),scope.$on("refreshScheduler",function(evt,Url,fieldsToScheduler,Actions){scope.fields=fieldsToScheduler.description.fieldName;var titulos="",Descripciones="",templateActions="";Actions.length>0&&Actions.forEach(function(a,b){templateActions+=" <button type='button' class='btn btn-warning'  ng-click='redirect(\""+a.QueryString+"\", this)'>"+a.Name+"</button>"});for(var jsDef="var fieldsDef = {start: { type: 'date', from: fieldsToScheduler.start[0] }, end: { type: 'date', from: fieldsToScheduler.end[0] }",i=0;i<fieldsToScheduler.title.fieldName.length;i++)titulos+="{{dataItem."+fieldsToScheduler.title.fieldName[i].split(".").pop()+"}}",jsDef=jsDef+","+fieldsToScheduler.title.fieldName[i].split(".").pop()+': { from: "'+fieldsToScheduler.title.fieldName[i]+"\",defaultValue: 'No title'}";for(var i=0;i<fieldsToScheduler.description.fieldName.length;i++)Descripciones+="{{dataItem."+fieldsToScheduler.description.fieldName[i].split(".").pop()+"}}",jsDef=jsDef+","+fieldsToScheduler.description.fieldName[i].split(".").pop()+': { from: "'+fieldsToScheduler.description.fieldName[i]+"\",defaultValue: 'No title'}";jsDef+="}; fieldsDef;";var fields=eval(jsDef),fecha=new Date;scope.schedulerOptions={date:fecha,startTime:new Date(fecha.toJSON().slice(0,10)+" 06:00 AM"),height:800,views:[{type:"day",title:"Día",selected:!0},{type:"workWeek",title:"Semana de trabajo"},{type:"week",title:"Semana"},{type:"month",title:"Mes"}],dataSource:{batch:!0,type:"odata",transport:{read:{url:Url}},schema:{model:{id:"Id",fields:fields},data:function(a){return a.value},total:function(a){return a["odata.count"]}},requestEnd:function(a,b,c,d){var e=a.sender._data;a.response&&(e=a.response.value);for(var f=0;f<e.length;f++)for(var g=0;g<fieldsToScheduler.description.fieldName.length;g++)e[f][fieldsToScheduler.description.fieldName[g].split(".")[0]]||(e[f][fieldsToScheduler.description.fieldName[g].split(".")[0]]={});for(var f=0;f<e.length;f++)for(var g=0;g<fieldsToScheduler.description.field.length;g++){if("Map"==fieldsToScheduler.description.field[g].type)var h=fieldsToScheduler.description.fieldName[g].split(".");void 0!=e[f][h[0]][h[1]]&&(e[f][h[0]][h[1]]=e[f][h[0]][h[1]].split(":").pop().replace("}","").replace('"',""))}$("div[class*='k-widget k-scheduler k-floatwrap']").off("dblclick").on("dblclick",!1),$("li[class*='k-state-default k-header k-nav-today'] a[class*='k-link']").text("Hoy"),$("li[class*='k-state-default k-scheduler-fullday'] a[class*='k-link']").text("Mostrar el horario de trabajo")}},eventTemplate:"<div class='custom-event'>"+titulos+" - "+Descripciones+"</div><div><a class='btn btn-sm' ng-click='editSelected(this)'><i class='glyphicon glyphicon-pencil' style='color:white'></i></a><a class='btn btn-sm'  ng-click='deleteSelected(this)'><i style='color:white' class='glyphicon glyphicon-trash'></i></a>"+templateActions+"</div>"}});var messages={confirm:"¿Está seguro que desea eliminar este registro?",failure:"No se pudo eliminar el registro.",idMissing:"No se encontró el Id.",tableMissing:"No se encontró la api.",CanNotDelete:"No tiene permisos para eliminar los registros.",CanNotEdit:"No tiene permisos para editar los registros.",CanNotCreate:"No tiene Permisos para crear registros.",Success:"El registro fue eliminado."};scope.viewNameId=$location.search().viewName,scope.entityId=$location.search().entityId,scope.editSelected=function(a){window.localStorage.IdSelectedItem=a.dataItem.Id,$location.search({rowId:a.dataItem.Id,viewName:scope.viewNameId,entityId:scope.entityId}),$location.path("/forms")},scope.deleteSelected=function(a){if(confirm(messages.confirm)){var b=a.dataItem.Id;if(!b)return console.error(messages.idMissing),void scope.MostrarMensaje("error",messages.failure);var c=scope.viewNameId;if(!c)return console.error(messages.tableMissing),void scope.MostrarMensaje("error",messages.failure);var d={dataType:"view",id:b,viewName:c};try{scope.myPromise=dataItemService.delete(d),scope.MostrarMensaje("success",messages.Success);var e=0;e++}catch(a){console.error(a.description),scope.MostrarMensaje("error",messages.failure)}}},scope.redirect=function(a,b){var c=a.split("?")[1].split("&");angular.forEach($rootScope.pages,function(a){""!=a.isModule&&null!=a.isModule&&angular.forEach(a.pages,function(a){if(a.id==c[0].split("=")[1]){for(var d="",e=3;e<c.length;e++){var f=c[e].split("=")[1];f="selectedItem"==f?b.dataItem.Id:b.dataItem[f.split(".")[1]],""!=d&&(d+="&"),d+=c[e].split("=")[0]+"="+f}$location.path("/forms"),$location.search({viewName:a.partId,entityId:a.id,defaultFieldsValues:null});var g=$location.url();$location.url(g+"&"+d)}})})},scope.MostrarMensaje=function(a,b){toastr[a](b),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}}}}]),angular.module("backAnd.controllers").run(["$templateCache",function(a){a.put("backand/js/directives/autocomplete/partials/autocomplete.html",'<ng-form name="innerForm"> <input typeahead-on-select="setPcode($item, $model, $label, $event)" uib-typeahead-editable="firstTime" type="text" name="field" class="form-control" ng-required="field.required" ng-model="field.selected" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass" uib-typeahead="option.label for option in options($viewValue)" uib-typeahead-loading="loadingItems" uib-typeahead-no-results="noResults" uib-typeahead-min-length="0" uib-typeahead-show-hint="true"> <i ng-show="loadingItems" class="glyphicon glyphicon-refresh"></i> <div ng-show="noResults"> <i class="glyphicon glyphicon-remove"></i> No se encontraron resultados </div> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">Requerido</div> <div class="alert alert-danger" role="alert" ng-show="!innerForm.field.$valid">No coincide</div> </ng-form>'),a.put("backand/js/directives/carrusel/partials/carrusel.html",'<div style="height:250px"> <div class="slides_control"> <div> <div uib-carousel interval="interval" active="active" no-wrap="noWrapSlides" style="max-height:200px" class="col-xs-6 col-xs-offset-3"> <div uib-slide ng-repeat="slide in slides track by $index" index="$index"> <img class="img-responsive ft-appengine-carrousel-img" ng-src="{{slide}}"> <div class="carousel-caption"> <h4>{{$index}}</h4> </div> </div> </div> </div> </div> <div> <button type="button" ngf-select="onFileSelect($files, $invalidFiles)" multiple class="btn btn-warning btn-sm" style="width:100%" ngf-accept="\'image/*\'" ngf-max-size="2MB" ngf-pattern="\'.png,.jpg,.jpeg\'"> <i class="fa fa-cloud-upload"></i> Subir archivos </button> <toaster-container toaster-options="{\'close-button\': true}"></toaster-container> </div> </div> '),a.put("backand/js/directives/charts/partials/chart.html",'<div class="box"> <div class="box-header"> <h3 class="box-title">{{title}}</h3> <h4 class="sub-title">{{subTitle}}</h4> </div> <div class="box-body chart-responsive"> <div class="chart"></div> <div class="xtitle">{{xTitle}}</div> <div class="ytitle">{{yTitle}}</div> </div> </div>'),a.put("backand/js/directives/charts/partials/donutchart.html",'<div class="box"> <div class="box-header"> <h3 class="box-title">{{title}}</h3> <h4 class="sub-title">{{subTitle}}</h4> </div> <div class="box-body chart-responsive"> <div class="chart"></div> </div> </div>'),a.put("backand/js/directives/checkbox/partials/checkbox.html",'<input type="checkbox" name="field" class="" ng-model="value.val" ng-checked="value.val" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass"> '),a.put("backand/js/directives/combobox/partials/combobox.html",'<div> <select kendo-drop-down-list k-placeholder="\'Selecione\'" k-data-text-field="field.options[0].endPoint.defaultField" k-data-value-field="\'Id\'" k-filter="\'contains\'" k-option-label="\'Seleccione...\'" k-auto-bind="false" k-value-primitive="true" k-data-source="DataSource" k-change="changed" style="width: 100%" k-ng-model="field.value.val" ng-required="field.required"></select> <div ng-show="noResults"> <i class="glyphicon glyphicon-remove"></i> No se encontraron resultados </div> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">{{errors.required}}</div> <!--<select kendo-drop-down-list k-options="customOptions"\r\n            style="width: 100%"></select>--> </div>'),a.put("backand/js/directives/content/partials/content.html",' <div> <div ng-switch on="content.pageType"> <htmlcontent content-id="content.__metadata.id" ng-switch-when="Content">\t</htmlcontent> <iframecontent content-id="content.__metadata.id" ng-switch-when="IFrame">\t</iframecontent> <linkcontent content-id="content.__metadata.id" ng-switch-when="External">\t</linkcontent> </div> </div> '),a.put("backand/js/directives/content/partials/htmlcontent.html"," <div> <div></div> </div> "),a.put("backand/js/directives/content/partials/iframecontent.html"," <div> <iframe></iframe> </div> "),a.put("backand/js/directives/cronometro/partials/cronometro.html",'<div> <timer autostart="false" language="es" interval="1000">{{hours}} Hora{{hoursS}}, {{minutes}} Minuto{{minutesS}}, {{seconds}} Segundo{{secondsS}}.</timer> <button type="button" ng-disabled="!field.IsEditable" ng-click="startTimer($event)" ng-show="!timerRunning"><i class="fa fa-play"></i></button> <button type="button" ng-disabled="!field.IsEditable" ng-click="stopTimer($event)" ng-show="timerRunning"><i class="fa fa-stop"></i></button> </div>'),a.put("backand/js/directives/dashboard/partials/dashboard.html",'<iframe src="{{Url}}" style="width: 104%;    height: 633px;    margin-left: -12px"></iframe>'),a.put("backand/js/directives/date/partials/date.html",'<div> <ng-form name="innerForm"> <div class="input-group" ng-class="inputClass"> <input type="text" class="form-control" uib-datepicker-popup="{{field.format}}" ng-model="mydate" is-open="opened" date-disabled="field.disabled || !field.IsEditable" ng-disabled="field.disabled || !field.IsEditable" ng-required="field.required" close-text="Cerrar" current-text="Hoy" clear-text="Limpiar" on-open-focus="true"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="open()"> <i class="glyphicon glyphicon-calendar"></i> </button> </span> </div> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">{{errors.required}}</div> <div ng-if="field.minimumValue" class="alert alert-danger" role="alert" ng-show="tooEarly()">{{errors.minimumValue}}</div> <div ng-if="field.maximumValue" class="alert alert-danger" role="alert" ng-show="tooLate()">{{errors.maximumValue}}</div> </ng-form> </div>'),a.put("backand/js/directives/dateTime/partials/dateTime.html",'<div id="example"> <div class="demo-section k-content"> <input kendo-date-time-picker id="DateTimePicker" k-ng-model="field.value.val" style="width: 100%"> </div> </div> '),a.put("backand/js/directives/details/partials/details.html",'<ng-form name="innerForm"> <div class="input-group" ng-class="inputClass"> <div class="row"> <span class="input-group-btn pull-right"> <button type="button" class="btn btn-default pull-right" ng-click="addRecordDetails()"><i class="fa fa-plus-circle"></i> Agregar</button> </span> </div> <div class="row"> <kendo-grid options="mainGridOptions" id="{{field.campoId}}"></kendo-grid> </div> </div> </ng-form> '),
a.put("backand/js/directives/details/partials/detailsForm.html",' <div class="modal-header"> <h3 class="modal-title">Detalles</h3> </div> <div class="modal-body"> <div bknd-form view-name="viewName" row-id="rowId" entity-id="entityId" is-details="isDetails" entity-parent-id="entityParentId" parent="parent"></div> </div> <!--<div class="modal-footer">\r\n    <button class="btn btn-primary" type="button" ng-click="ok()">Guardar</button>\r\n    <button class="btn btn-warning" type="button" ng-click="cancel()">Cancelar</button>\r\n</div>--> '),a.put("backand/js/directives/details/partials/detailsFormView.html",""),a.put("backand/js/directives/editor/partials/editor.html",'<ng-form name="innerForm"> <text-angular ng-if="!field.disabled" ng-required="field.required" ng-model="innerVal.val" ng-show="field.show" ng-class="inputClass" ng-focus="inFocus()" ng-blur="outFocus()"></text-angular> <div ta-bind ng-if="field.disabled" ng-model="innerVal.val" ng-show="field.show" ng-class="inputClass"></div> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="isEmpty">{{errors.required}}</div> </ng-form>'),a.put("backand/js/directives/email/partials/email.html",'<ng-form name="innerForm"> <div class="input-group"> <input type="{{field.type}}" name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass"> <div class="input-group-addon"> <i class="fa fa-envelope"></i> </div> </div> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">{{errors.required}}</div> <div ng-if="field.type == \'email\'" class="alert alert-danger" role="alert" ng-show="innerForm.field.$error.email">{{errors.email}}</div> </ng-form>'),a.put("backand/js/directives/forms/partials/field.html",' <label ng-switch-when="false" ng-hide="field.type == \'checkbox\'">{{field.displayName | parseLabel:field}}</label> <div ng-switch on="field.type"> <bknd-ng-grid ng-switch-when="subgrid" view-name="field.relatedViewName" filter-options="field.filterSubgrid()" input-style="{\'height\': 500}"></bknd-ng-grid> <div ng-switch-when="disabledSubgrid" bknd-disabled-grid message="\'Save first to add rows\'"></div> <div ng-switch-when="singleSelect" single-select field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="autocomplete" autocomplete field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="editor" editor field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="textarea" textarea field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="Entero" numeric field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <!--<div ng-switch-when="Password" Password field="field" typeof="password" value="field.value" form="" input-class="" errors="field.errors"></div>--> <label ng-switch-when="checkbox" class="checkbox-inline"> <div checkbox field="field" value="field.value" form="" input-class="" errors="field.errors"></div> {{field.displayName | parseLabel:field}} </label> <div ng-switch-when="date" date field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="image" image field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="number" numeric field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="currency" numeric field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="percentage" numeric field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="numberWithSeparator" numeric field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="numeric" numeric field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="email" email field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-when="hyperlink"> <div link field="field" value="field.value" form="" input-class="" errors="field.errors"></div> </div> <div ng-switch-when="map" mapa field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div> <div ng-switch-when="cronometro" cronometro field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div> <div ng-switch-when="multiSelect" single-select field="field" value="field.value" form="" input-class="" errors="field.errors"></div> <div ng-switch-default input field="field" value="field.value" form="" input-class="" errors="field.errors"></div> </div> '),a.put("backand/js/directives/forms/partials/form.html",'<div class="show" tabindex="-1" role="dialog" aria-hidden="true"> <form role="form" name="form" novalidate ng-submit="submit()"> <div class="panel panel-warning"> <div class="panel-heading"> <span><i class="fa fa-tag"></i> {{configInfo.title}}</span> </div> <div class="panel-body" style=""> <div class="row"> <div ng-include="\'backand/js/directives/forms/partials/field.html\'" class="col-md-{{12 / configInfo.columnsInDialog * field.columns | parseInt}} form-group" ng-repeat="field in configInfo.fields" ng-if="field.show"> <!-- field --> </div> </div> <div class="tabbable form-group"> <ul class="nav nav-tabs" role="tablist"> <li ng-repeat="category in configInfo.categories" ng-class="{active : $first}" ng-click="tabClick(category)"> <a href="#{{category.catName | removeSpaces}}" showtab role="tab" data-toggle="tab">{{category.catName}}</a> </li> </ul> <div class="tab-content"> <div class="tab-pane fade in" ng-class="{active : $first}" ng-repeat="category in configInfo.categories" id="{{category.catName | removeSpaces}}" ng-form="subForm"> <div class="panel panel-warning" ng-repeat="Section in category.sections" id="{{Section.sectionName}}"> <div class="panel-heading"><div class="">{{Section.sectionName}}</div></div> <div class="panel-body"> <div class="row" ng-repeat="row in Section.rows"> <div ng-include="\'backand/js/directives/forms/partials/field.html\'" class="col-md-{{12 / Section.NroColumn * field.columns | parseInt}} form-group" ng-repeat="field in row.fields" ng-if="field.show"> </div> </div> </div> </div> </div> </div> <!--</div>--> </div> </div> <div class="form-actions panel-footer"> <div class="text-left"> <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)"><span>{{alert.msg}}</span></alert> </div> <div style="text-align:center" ng-repeat="Action in configInfo.Actions"> <!--Buttons--> <ng-switch on="Action.Type"> <button type="submit" class="btn btn-warning" ng-switch-when="Save" ng-disabled="form.$invalid" ng-click="continue = false">{{Action.Name}}</button> <button type="button" class="btn btn-warning" ng-switch-when="Delete" ng-disabled="form.$invalid" ng-click="deleteSelected(this);">{{Action.Name}}</button> <button type="button" class="btn btn-warning" ng-switch-when="Create" ng-disabled="form.$invalid" ng-click="addRow();">{{Action.Name}}</button> <button type="button" class="btn btn-warning" ng-switch-when="Edit" ng-disabled="form.$invalid" ng-click="editSelected(this);">{{Action.Name}}</button> <button type="button" class="btn btn-warning" ng-switch-when="WorkFlow" ng-disabled="form.$invalid" ng-click="WorkFlow(this);">{{Action.Name}}</button> </ng-switch> <button ng-show="$last" type="button" class="btn btn-warning" ng-click="cancelar();">Cancelar</button> <!--<div cg-busy="{promise:myPromise,message:\'Cargando informaci�n\'}">\r\n                    </div>--> </div> </div> </div> </form> </div> <script type="text/ng-template" id="backand/js/directives/forms/partials/field.html"> <label class=" control-label" ng-hide="field.type == \'checkbox\'"><span>{{field.displayName | parseLabel:field}}</span><span class="ft-appengine-field-required" ng-show="field.required">*</span></label>\r\n    <div ng-switch on="field.type">\r\n        <bknd-ng-grid ng-switch-when="subgrid" view-name="field.relatedViewName" filter-options="field.filterSubgrid()" input-style="{\'height\': 500}"></bknd-ng-grid>\r\n        <div ng-switch-when="disabledSubgrid" bknd-disabled-grid message="\\\'Save first to add rows\\\'"></div>\r\n        <div ng-switch-when="singleSelect" single-select field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="autocomplete" autocomplete field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="combobox" combobox field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="editor" editor field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="textarea" textarea field="field" value="field.value" class="control-label" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="Entero" numeric field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <!--<div ng-switch-when="Password" Password field="field" typeof="password" value="field.value" form="" input-class="" errors="field.errors"></div>-->\r\n        <label ng-switch-when="checkbox" class="checkbox-inline control-label">\r\n            <div checkbox field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n            {{field.displayName | parseLabel:field}}\r\n        </label>\r\n        <div ng-switch-when="date" date field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="datetime" datetime field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="image" image field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="number" numeric field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="currency" numeric field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="percentage" numeric field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="numberWithSeparator" numeric field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="numeric" numeric field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="email" email field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="hyperlink">\r\n            <div link field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        </div>\r\n        <div ng-switch-when="multiSelect" multi-select field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="map" mapa field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="cronometro" cronometro field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="carrousel" carrusel field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-when="detalles" details field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n        <div ng-switch-default input field="field" value="field.value" form="" input-class="" errors="field.errors" title="{{field.tooltip}}"></div>\r\n\r\n    </div> </script> <style> .ft-appengine-field-required {\r\n        color: red;\r\n    }\r\n\r\n    .ft-appengine-required-input {\r\n        color: #a94442;\r\n        border: solid #ebccd1 1px;\r\n        padding: 3px;\r\n        border-radius: 3px;\r\n        background-color: #f2dede;\r\n    } </style>'),a.put("backand/js/directives/grids/partials/buttonGroup.html",'<div ng-repeat="button in buttons"> <button type="button" ng-click="button.callback()" ng-class="button.class" class="btn btn-default navbar-btn"><span class="glyphicon" ng-class="button.iconClass"><span class="ng-back-grid-toolbar-text">{{button.text}}</span></span></button> </div>'),a.put("backand/js/directives/grids/partials/disabledGrid.html","<div> {{message}} </div>"),a.put("backand/js/directives/grids/partials/filter.html",'<form name="filterForm" novalidate> <div class="panel panel-default"> <div class="panel-body"> <div class="row"> <div ng-repeat="item in filterOptionsOutput"> <div ng-switch on="item.fieldType" class="col-md-2 form-group"> <label> {{item.label}} </label> <div> <div style="display: inline-block; width: -moz-calc(100% - 50px); width: -webkit-calc(100% - 50px); width: calc(100% - 50px)"> <input ng-switch-when="text" type="text" name="item.fieldName" value="item.value" ng-model="item.value" ng-change="filterChanged()" class="form-control filter-item"> <input ng-switch-when="date" type="date" name="item.fieldName" value="item.value" ng-model="item.value" ng-change="filterChanged()" class="form-control filter-item"> <input ng-switch-when="numeric" type="number" name="item.fieldName" value="item.value" ng-model="item.value" ng-change="filterChanged()" class="form-control filter-item"> <select ng-switch-when="boolean" name="item.fieldName" ng-model="item.value" ng-change="filterChanged()" class="form-control filter-item"> <option value="">All</option> <option value="true">Yes</option> <option value="false">No</option> </select> <div ng-switch-when="relation" name="item.fieldName" ng-dropdown-multiselect="" class="multi-filter" options="item.selectOptions" selected-model="item.relation" events="multiSelectEvents" extra-settings="multiSelectExtraSettings" class="form-control filter-item"></div> <input ng-switch-default="text" type="text" name="item.fieldName" value="item.value" ng-model="item.value" ng-change="filterChanged()" class="form-control filter-item"> </div> <div class="btn-group" dropdown ng-show="showOperators && item.fieldType != \'relation\' && item.fieldType != \'boolean\'"> <button type="button" class="btn btn-primary dropdown-toggle" ng-class="(item.value != undefined && item.value != \'\' && item.value != null) || item.operator == \'empty\' || item.operator == \'notEmpty\' ? \'selected\' : \'\'" ng-disabled="disabled"> <span> {{ getOperatorSymbol(item.operator) }} </span> </button> <ul class="dropdown-menu" role="menu"> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'equals\'; filterChanged();" ng-class="item.operator == \'equals\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'equals\')}}</span><span>Equals</span></li> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'notEquals\'; filterChanged();" ng-class="item.operator == \'notEquals\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'notEquals\')}}</span><span>Not Equals</span></li> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'greaterThan\'; filterChanged();" ng-class="item.operator == \'greaterThan\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'greaterThan\')}}</span><span>Greater than</span></li> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'greaterThanOrEqualsTo\'; filterChanged();" ng-class="item.operator == \'greaterThanOrEqualsTo\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'greaterThanOrEqualsTo\')}}</span><span>Greater than or Equals to</span></li> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'lessThan\'; filterChanged();" ng-class="item.operator == \'lessThan\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'lessThan\')}}</span><span>Less than</span></li> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'lessThanOrEqualsTo\'; filterChanged();" ng-class="item.operator == \'lessThanOrEqualsTo\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(item.operator)}}</span><span>Less than or Equals to</span></li> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'empty\'; filterChanged();" ng-class="item.operator == \'empty\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'empty\')}}</span><span>Empty</span></li> <li ng-show="item.fieldType == \'numeric\'" ng-click="item.operator = \'notEmpty\'; filterChanged();" ng-class="item.operator == \'notEmpty\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'notEmpty\')}}</span><span>Not Empty</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'equals\'; filterChanged();" ng-class="item.operator == \'equals\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'equals\')}}</span><span>Equals</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'notEquals\'; filterChanged();" ng-class="item.operator == \'notEquals\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'notEquals\')}}</span><span>Not Equals</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'greaterThan\'; filterChanged();" ng-class="item.operator == \'greaterThan\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'greaterThan\')}}</span><span>Greater than</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'greaterThanOrEqualsTo\'; filterChanged();" ng-class="item.operator == \'greaterThanOrEqualsTo\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'greaterThanOrEqualsTo\')}}</span><span>Greater than or Equals to</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'lessThan\'; filterChanged();" ng-class="item.operator == \'lessThan\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'lessThan\')}}</span><span>Less than</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'lessThanOrEqualsTo\'; filterChanged();" ng-class="item.operator == \'lessThanOrEqualsTo\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(item.operator)}}</span><span>Less than or Equals to</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'empty\'; filterChanged();" ng-class="item.operator == \'empty\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'empty\')}}</span><span>Empty</span></li> <li ng-show="item.fieldType == \'date\'" ng-click="item.operator = \'notEmpty\'; filterChanged();" ng-class="item.operator == \'notEmpty\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'notEmpty\')}}</span><span>Not Empty</span></li> <li ng-show="item.fieldType == \'text\'" ng-click="item.operator = \'equals\'; filterChanged();" ng-class="item.operator == \'equals\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'equals\')}}</span><span>Equals</span></li> <li ng-show="item.fieldType == \'text\'" ng-click="item.operator = \'notEquals\'; filterChanged();" ng-class="item.operator == \'notEquals\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'notEquals\')}}</span><span>Not Equals</span></li> <li ng-show="item.fieldType == \'text\'" ng-click="item.operator = \'startsWith\'; filterChanged();" ng-class="item.operator == \'startsWith\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'startsWith\')}}</span><span>Starts With</span></li> <li ng-show="item.fieldType == \'text\'" ng-click="item.operator = \'endsWith\'; filterChanged();" ng-class="item.operator == \'endsWith\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'endsWith\')}}</span><span>Ends With</span></li> <li ng-show="item.fieldType == \'text\'" ng-click="item.operator = \'contains\'; filterChanged();" ng-class="item.operator == \'contains\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'contains\')}}</span><span>Contains</span></li> <li ng-show="item.fieldType == \'text\'" ng-click="item.operator = \'empty\'; filterChanged();" ng-class="item.operator == \'empty\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'empty\')}}</span><span>Empty</span></li> <li ng-show="item.fieldType == \'text\'" ng-click="item.operator = \'notEmpty\'; filterChanged();" ng-class="item.operator == \'notEmpty\' ? \'selected\' : \'\'"><span class="filter-operator-symbol">{{getOperatorSymbol(\'notEmpty\')}}</span><span>Not Empty</span></li> </ul> </div> <div class="btn-group" dropdown ng-show="showOperators && (item.fieldType == \'relation\' || item.fieldType == \'boolean\')"> <button type="button" class="btn btn-primary dropdown-toggle" ng-disabled="disabled" ng-class="item.value != undefined && item.value != \'\' && item.value != null ? \'selected\' : \'\'"> <span> {{ getOperatorSymbol(\'equals\') }} </span> </button> </div> </div> </div> </div> </div> </div> </div> </form> '),a.put("backand/js/directives/grids/partials/grid-mobile.html",'<div class="ng-back-grid box" id="bknd-grid_{{viewNameId}}"> <div class="box-body table-responsive"> <div class="btn-group btn-group-sm" ng-show="showToolbar"> <button type="button" ng-click="addRow()" ng-show="showAdd" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-plus"></span></button> <button type="button" ng-click="editSelected()" ng-show="showEdit" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-pencil"></span></button> <button type="button" ng-click="deleteSelected()" ng-show="showDelete" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-trash"></span></button> </div> <div class="btn-group btn-group-sm"> <button type="button" ng-click="activateFilter()" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-refresh"></span></button> <div cg-busy="myPromise"></div> </div> <div class="btn-group-sm pull-right"> <button type="button" ng-click="collapseFilter=!collapseFilter" class="btn btn-default navbar-btn"><span class="glyphicon" ng-class="collapseFilter ? \'glyphicon-chevron-down\' : \'glyphicon-chevron-up\'"><span class="grid-toolbar-text">{{collapseFilter ? "Filter" : "Filter"}}</span></span></button> </div> </div> <div ng-show="showFilter && !collapseFilter" class="grid-filter"> <div bknd-filter filter-options="filterToolbarOptions" show-operators="true"></div> </div> </div> '),a.put("backand/js/directives/grids/partials/grid.html",'<html> <head> <title>App Engine</title> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> <meta name="keywords" content="Easy Admin Panel Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,\r\nSmartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design"> <!--<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>\r\n    <link href="/app/style/css/bootstrap.min.css" rel="stylesheet" />\r\n    <link href="/app/style/css/style.css" rel="stylesheet" type="text/css" />\r\n    <link href="/App/style/css/font-awesome.css" rel="stylesheet" type="text/css" />\r\n    <link href="/app/style/css/icon-font.min.css" rel="stylesheet" type="text/css" />\r\n    <script src="/app/style/js/Chart.js"></script>\r\n    <link href="/app/style/css/animate.css" rel="stylesheet" type="text/css" />\r\n    <script src="/app/style/js/wow.min.js"></script>\r\n    <script>\r\n        new WOW().init();\r\n    </script>\r\n    <link href=\'//fonts.googleapis.com/css?family=Cabin:400,400italic,500,500italic,600,600italic,700,700italic\' rel=\'stylesheet\' type=\'text/css\'>--> <!--<link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.607/styles/kendo.common-bootstrap.min.css" />\r\n    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.607/styles/kendo.bootstrap.min.css" />--> <!--<script>\r\n    kendo.pdf.defineFont({\r\n    "DejaVu Sans"             : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans.ttf",\r\n    "DejaVu Sans|Bold"        : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Bold.ttf",\r\n    "DejaVu Sans|Bold|Italic" : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf",\r\n    "DejaVu Sans|Italic"      : "//kendo.cdn.telerik.com/2016.2.607/styles/fonts/DejaVu/DejaVuSans-Oblique.ttf"\r\n    });\r\n    </script>\r\n    <script type="x/kendo-template" id="page-template">\r\n        <div class="page-template">\r\n            <div class="header">\r\n                <div style="float: right">Page #: pageNum # of #: totalPages #</div>\r\n                Multi-page grid with automatic page breaking\r\n            </div>\r\n            <div class="watermark">Datos</div>\r\n            <div class="footer">\r\n                Page #: pageNum # of #: totalPages #\r\n            </div>\r\n        </div>\r\n    </script>--> </head> <body class="sticky-header left-side-collapsed" onload="initMap()"> <section style="margin:20px"> <div class="row"> <div class="col-xs-12"> <h1 style="text-transform: capitalize"><i class="fa fa-tag"></i> {{NameEntity}}</h1> </div> </div> <div class="row"> <div class="col-xs-12"><div id="grid-general-map" trip></div></div> </div> <div class="row"> <div class="col-xs-12"><div id="grid-general-slide" slidedescription></div></div> </div> <div class="row"> <div class="col-xs-4"> <button type="button" class="btn btn-warning btn_crear" ng-click="addRow()"><span class="glyphicon glyphicon-plus"></span> Crear</button> <div style="margin-bottom:10px; margin-top:10px"></div> </div> </div> <div class="row"> <div class="col-xs-12"><div id="grid-general-scheduler" scheduler field="" value="" url="url"></div></div> </div> <div class="row" id="grid-general"> <div class="col-xs-12"> <kendo-grid options="mainGridOptions"> </kendo-grid> </div> </div> </section> </body> </html> '),a.put("backand/js/directives/grids/partials/toolbar.html",'<div ng-model="buttonGroups" class="box-body table-responsive"> <div class="btn-toolbar ng-back-grid-toolbar" role="toolbar"> <div ng-repeat="buttonGroup in buttonGroups" class="btn-group" ng-class="buttonGroup.class"> <div button-group buttons="buttonGroup.buttons" selected-rows="selectedRows" new-row-defaults="newRowDefaults" grid-scope="gridScope"></div> </div> <div class="btn-group"> <button type="button" ng-click="activateFilter()" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-refresh"></span></button> <img ng-show="isLoad" src="backand/img/ajax-loader.gif"> </div> <div class="btn-group pull-right ng-back-grid-toolbar-Search" ng-show="showSearch && showToolbar"> <input type="text" class="btn btn-default navbar-btn" ng-model="searchText" placeholder="Search" ng-keypress="filterKeyPress($event)"> <button type="button" ng-click="activateFilter()" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-search"></span></button> <button type="button" ng-click="deactivateFilter()" class="btn btn-default navbar-btn"><span class="glyphicon glyphicon-remove"></span></button> </div> </div> </div>\''),a.put("backand/js/directives/html/partials/html.html",'<ng-form name="innerForm"> <textarea name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass"></textarea> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$error.required">{{errors.required}}</div> </ng-form>'),a.put("backand/js/directives/image/partials/image.html",'<ng-form name="innerForm"> <div class="input-group" ng-class="inputClass"> <input type="text" name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass"> <span class="input-group-btn" ng-show="!field.largeImage"> <img ng-src="{{field.urlPrefix}}/{{value.val}}" class="btn btn-default" style="padding: 0; margin-right: 34px; width: 34px"> </span> </div> <img ng-src="{{field.urlPrefix}}/{{value.val}}" style="width: 300px" ng-show="field.largeImage"> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">{{errors.required}}</div> <div ng-if="field.format" class="alert alert-danger" role="alert" ng-show="innerForm.field.$error.pattern">{{errors.format}}</div> </ng-form>'),a.put("backand/js/directives/input/partials/input.html",'<ng-form name="innerForm"> <input ng-if="field.format" type="{{field.type}}" name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass" ng-pattern="field.format"> <input ng-if="!field.format" type="{{field.type}}" name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass"> <div ng-if="field.required" class="ft-appengine-required-input" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">{{errors.required}}</div> <div ng-if="field.format" class="ft-appengine-required-input" role="alert" ng-show="innerForm.field.$error.pattern">{{errors.format}}</div> <div ng-if="field.type == \'email\'" class="alert alert-danger" role="alert" ng-show="innerForm.field.$error.email">{{errors.email}}</div> </ng-form>'),a.put("backand/js/directives/link/partials/link.html",'<ng-form name="innerForm"> <div class="input-group" ng-class="inputClass"> <a ng-show="value.url" href="{{value.url}}" target="{{value.target}}" class="form-control">{{value.linkText}}</a> <span ng-hide="value.url" class="form-control"></span> <span class="input-group-btn"> <button type="button" class="btn btn-default" data-toggle="modal" data-target="{{ \'#myModal-\' + field.name }}"><i class="fa fa-link"></i></button> </span> </div> <div class="modal fade" data-backdrop="static" id="{{ \'myModal-\' + field.name }}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> </div> <div class="modal-body"> <div class="form-group"> <label for="linkText">Texto</label> <input type="text" ng-model="value.linkText" class="form-control" id="linkText" placeholder="Link Text"> </div> <div class="form-group"> <label for="linkUrl">Dirección</label> <input type="url" ng-model="value.url" name="editUrl" class="form-control" id="linkUrl" placeholder="http://"> </div> <div class="form-group"> <label for="checkboxOpen"> <input type="checkbox" id="checkboxOpen" class="" ng-model="value.target"> Abrir en la misma pestaña </label> </div> <div class="alert alert-danger" role="alert" ng-show="innerForm.editUrl.$error.url">{{errors.url}}</div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button> </div> </div> </div> </div> </ng-form> '),
a.put("backand/js/directives/map/partials/mapa.html",'<ng-form name="innerForm"> <div class="input-group" style="width:100%"> <!--<span class="input-group-btn">\r\n            <button class="btn btn-success btn-secondary" ng-click="searchAddress($event)" type="button"><span class="fa fa-plus-square"></span></button>\r\n        </span>--> <input type="text" id="autocomplete" class="form-control Autocomplete" ng-model="field.value.val.address" ng-class="inputClass" ng-focus="geolocate($event)" ng-blur="searchAddress($event)"> </div> <ng-map center="{{field.value.val.pos}}" on-click="addMarker()"> <marker id="capture_location" position="{{field.value.val.pos}}" on-click="showInfo(event,p)" animation="Animation.BOUNCE" centered="true"> </marker> </ng-map> </ng-form> '),a.put("backand/js/directives/multiSelect/partials/multiSelect.html",'<ng-form name="innerForm"> <div single-select field="dropdownStructure" value="dropdownValue" form="" input-class="" errors=""></div> <!-- <div mass-autocomplete>\n        <input ng-disabled="field.disabled" mass-autocomplete-item="autocomplete_options" name="field" class="form-control" ng-required="field.required" ng-model="dirty.value" ng-show="field.show" ng-disabled="field.disabled" ng-class="inputClass">\n    </div> --> <ul class="list-inline" ng-show="field.show"> <li ng-repeat="tag in tags">{{ tag }}<i class="fa fa-times multi-select-close" ng-disabled="field.disabled || !field.IsEditable" ng-click="clickDelete(tag)"></i></li> </ul> <div class="ft-appengine-required-input" role="alert" ng-show="innerForm.field.$dirty && tags.length == 0">Seleccione un registro</div> </ng-form>'),a.put("backand/js/directives/navigation/partials/navigation.html",'<div> <button type="button" class="btn btn-warning" ng-click="redirect()">{{action.Name}}</button> </div> '),a.put("backand/js/directives/numeric/partials/numeric.html",'<ng-form name="innerForm"> <div class="input-group"> <input type="number" name="field" ng-model="value.val" class="form-control" ng-disabled="field.disabled || !field.IsEditable" ng-required="field.required" ng-class="inputClass" ng-show="field.show" min="{{field.minimumValue}}" max="{{field.maximumValue}}"> <div class="input-group-addon">{{ field.type == \'percentage\' ? \'%\' : field.type == \'currency\' ? field.currencySymbol : field.type == \'numberWithSeparator\' ? \'.00\' : \'#\' }}</div> </div> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">{{errors.required}}</div> <div class="ft-appengine-required-input" role="alert" ng-show="innerForm.field.$error.number">{{errors.number}}</div> <div class="ft-appengine-required-input" role="alert" ng-show="innerForm.field.$error.min">{{errors.minimumValue}}</div> <div class="ft-appengine-required-input" role="alert" ng-show="innerForm.field.$error.max">{{errors.maximumValue}}</div> </ng-form>'),a.put("backand/js/directives/scheduler/partials/scheduler.html",'<div> <div> <div kendo-scheduler k-options="schedulerOptions"> </div> </div> <style> .custom-event {\r\n            color: #fff;\r\n            text-shadow: 0 1px 0 #000;\r\n        }\r\n\r\n        .custom-all-day-event {\r\n            text-align: center;\r\n            text-transform: uppercase;\r\n        } </style> </div> '),a.put("backand/js/directives/singleSelect/partials/singleSelect.html",'<ng-form name="innerForm"> <select ng-change="changed()" ng-show="!field.inlineEditing && field.show" name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-disabled="field.disabled" ng-class="inputClass" ng-options="o.name for o in options"></select> <div class="input-group" ng-class="inputClass" ng-show="field.inlineEditing"> <select ng-change="changed()" name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-show="field.show" ng-disabled="field.disabled" ng-class="inputClass" ng-options="o.name for o in options"></select> <span class="input-group-btn"> <button type="button" class="btn btn-default" data-toggle="modal" ng-click="inlineEditing()"> <i class="fa custom-icon ng-isolate-scope fa-table" icon-type="grid"></i> </button> </span> </div> <div ng-if="field.required" class="ft-appengine-required-input" role="alert" ng-show="innerForm.field.$dirty && innerForm.field.$error.required">{{errors.required}}</div> </ng-form>'),a.put("backand/js/directives/slidedescription/partials/slidedescription.html",'<div style="height:250px"> <div class="slides_control"> <div> <div uib-carousel interval="interval" active="active" no-wrap="noWrapSlides" style="max-height:200px"> <div uib-slide ng-repeat="slide in slideData track by $index" index="$index"> <img class="img-responsive ft-appengine-carrousel-img" ng-src="{{slide.image}}"> <div class="carousel-caption"> <h4 style="color:black">{{slide.name}}</h4> </div> <p style="font-size:16px; color:darkcyan; text-decoration:double; text-decoration-color:black">{{slide.description}}</p> </div> </div> </div> </div> </div>'),a.put("backand/js/directives/textarea/partials/textarea.html",'<ng-form name="innerForm"> <textarea name="field" class="form-control" ng-required="field.required" ng-model="value.val" ng-show="field.show" ng-disabled="field.disabled || !field.IsEditable" ng-class="inputClass" ng-maxlength="field.maximumValue"></textarea> <div ng-if="field.required" class="alert alert-danger" role="alert" ng-show="innerForm.field.$dirty &&  innerForm.field.$error.required">{{errors.required}}</div> </ng-form>'),a.put("backand/js/directives/trip/partials/trip.html",'<ng-form name="innerForm"> <input type="checkbox" ng-model="optimize_trip" ng-change="calculateTrip()"> Optimizar Rutas <ng-map center="{{firts_point}}"> <marker ng-repeat="p in start_points track by $index" position="{{p}}"></marker> </ng-map> </ng-form> '),a.put("partials/dashboard/dashboard.html","<bknd-dashboard></bknd-dashboard>"),a.put("partials/default.html",'<section class="content"></section>'),a.put("partials/forms/forms.html","<div bknd-form></div>"),a.put("partials/grids/grids.html",'<!--<div class="row">\r\n    <ol class="breadcrumb col-md-10 text-right">\r\n        <li data-ng-repeat="breadcrumb in breadcrumbs">\r\n            <a href="#" ng-style="{\'cursor\':\'default\'}">\r\n                <i class="fa custom-icon" icon-type="breadcrumb.partType"></i> {{breadcrumb.name}}\r\n            </a>\r\n        </li>\r\n    </ol>\r\n</div>--> <div class=""> <bknd-ng-grid></bknd-ng-grid> <!--<kendo-ng-grid></kendo-ng-grid>--> </div> '),a.put("partials/header/header.html",'<!--<script src="app/style/js/scripts.js"></script>\r\n<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>\r\n<link href="/app/style/css/bootstrap.min.css" rel="stylesheet" />\r\n<link href="/app/style/css/style.css" rel="stylesheet" type="text/css" />\r\n<link href="/App/style/css/font-awesome.css" rel="stylesheet" type="text/css" />\r\n<link href="/app/style/css/icon-font.min.css" rel="stylesheet" type="text/css" />\r\n<script src="/app/style/js/Chart.js"></script>\r\n<link href="/app/style/css/animate.css" rel="stylesheet" type="text/css" />\r\n<script src="/app/style/js/wow.min.js"></script>\r\n<link href=\'//fonts.googleapis.com/css?family=Cabin:400,400italic,500,500italic,600,600italic,700,700italic\' rel=\'stylesheet\' type=\'text/css\'>--> <!--header start--> <!--<header class="header-section" data-ng-controller="profileController" data-ng-init="init()" ng-show="Mostrar" >\r\n    <!--<div class="sidebar-toggle-box" >\r\n        \r\n        <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>\r\n    </div>--> <!--<a class="toggle-btn menu-collapsed" style="margin-left:15%; margin-top:0%"><i class="fa fa-bars"></i></a>--> <!--logo start--> <!--<a href="#" class="logo"><b>{{profile.title}}</b></a>--> <!--logo end--> <!--<div class="nav notify-row" id="top_menu">\r\n        <!--  notification start --> <!--<ul class="nav top-menu">\r\n            <!-- settings start --> <!-- settings end --> <!-- inbox dropdown start--> <!-- inbox dropdown end --> <!--</ul>--> <!--  notification end --> <!--</div>--> <!--<div class="top-menu">\r\n        <ul class="nav pull-right top-menu">\r\n            <li><a class="logout" ng-click="logOut()">Cerrar sesión</a></li>\r\n        </ul>\r\n    </div>--> <!--</header>--> <!--header end-->'),a.put("partials/index/index_1.html",' <style type="text/css"> #loaderDiv {\r\n   position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  text-align: center;\r\n   top: 0;\r\n   right: 0;\r\n   bottom: 0;\r\n   left: 0;\r\n   z-index: 1100;\r\n   background-color:white;\r\n   opacity: .8;\r\n}\r\n\r\n\r\n.ajax-loader {\r\n     position:absolute;\r\n   top:50%;\r\n   left:50%;\r\n   margin-top:-25px;\r\n   margin-left:-25px;\r\n} </style> <!--Start Main Theme Body--> <section id="container"> <div id="loaderDiv" loading> <img src="assets/img/cargando.gif" class="ajax-loader"> </div> <!--header start--> <!--<header ng-include="\'partials/header/header.html\'" class="header"></header>--> <header class="header-section" data-ng-controller="profileController" data-ng-init="init()" ng-show="Mostrar"> <!--<div class="sidebar-toggle-box" >\r\n\r\n            <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>\r\n        </div>--> <a class="toggle-btn menu-collapsed" style="margin-left:15%; margin-top:0%"><i class="fa fa-bars"></i></a> <!--logo start--> <a href="#" class="logo"><b>{{profile.title}}</b></a> <!--logo end--> <div class="nav notify-row" id="top_menu"> <!--  notification start --> <ul class="nav top-menu"> <!-- settings start --> <!-- settings end --> <!-- inbox dropdown start--> <!-- inbox dropdown end --> </ul> <!--  notification end --> </div> <div class="top-menu"> <ul class="nav pull-right top-menu"> <li><a class="logout" ng-click="logOut()">Cerrar sesión</a></li> </ul> </div> </header> <!--header end--> <!--sidebar start--> <!--<aside ng-include="\'partials/sidebar/sidebar.html\'"></aside>--> <div class="left-side sticky-left-side" ng-show="MostarMenu"> <!--logo and iconic logo start--> <div class="sticky-header"> <div class="logo"> <h1><img src="images/app-logo.png"></h1> </div> </div> <!--logo and iconic logo end--> <div data-ng-controller="menuController" ng-init="loadMenu()" class="left-side-inner"> <ul class="sidebar-menu" id="nav-accordion" data-ng-controller="menuController"> <!--<div ng-include="\'themes/DashGum/backand/partials/profile/profile.html\'"></div>--> <li class="" style="padding:10px"> <div class="centered workspaces"> <div class="input-group"> <div ng-controller="menuController"> <div class="dropdown"> <button class="btn btn-default dropdown-toggle" ng-style="{\'width\':\'190px\',\'margin-left\':\'8%\', \'text-align\':\'left\'}" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"> {{currentWorkspace.name}} <span class="caret"> </span> </button> <ul class="dropdown-menu DropDown" aria-labelledby="dropdownMenu1"> <li ng-repeat="workspace in additionalWorkspaces"> <a ng-click="changeWorkspace(workspace.Id)"> {{workspace.name}} </a> </li> </ul> </div> </div> </div> </div> </li> <br> <li class="menu-list" ng-repeat="p in pages" data-ng-if="p.partType == \'table\' || p.partType == \'dashboard\'|| p.partType == \'content\'" ng-click="setCurrentMenuSelection({partId:p.partId, name:p.name ,index :$index ,partType:p.partType, entityId:p.id}, null)"> <a href=""> <i class="fa custom-icon" icon-type="p.partType"></i> <span>{{p.name}}</span> </a> <ul class="sub" ng-show="p.pages" style="background-color:#D4D5DA"> <li ng-repeat="page in p.pages" data-ng-if="page.partType == \'table\' || page.partType == \'dashboard\'|| page.partType == \'content\'" ng-click="setCurrentMenuSelection({partId:page.partId, name:page.name ,index:$index ,partType:page.partType, entityId:p.id}, {partId:p.partId, name:p.name ,index :$index ,partType:p.partType}); $event.stopPropagation()"> <a href=""> <i class="fa custom-icon" icon-type="page.partType"></i> <span>{{page.name}}</span> </a> </li> </ul> </li> </ul> </div> </div> <style> .DropDown {\r\n            overflow-x: scroll;\r\n            overflow-x: hidden;\r\n            height: 200px;\r\n            width: 100px;\r\n            background-color: #EAEAEA;\r\n        } </style> <!--sidebar end--> <!--main content start--> <section id="main-content"> <section class="wrapper bknd-container" ng-view></section> </section> <!--main content end--> <!--footer start--> <!--<footer class="site-footer">\r\n        <div class="text-center">\r\n            App Engine\r\n            <a href="#" class="go-top">\r\n                <i class="fa fa-angle-up"></i>\r\n            </a>\r\n        </div>\r\n    </footer>--> <!--footer end--> </section> <!--End Main Theme Body-->'),a.put("partials/index/index.html",' <style type="text/css"> #loaderDiv {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        text-align: center;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        z-index: 1100;\r\n        background-color: white;\r\n        opacity: .8;\r\n    }\r\n\r\n\r\n    .ajax-loader {\r\n        position: absolute;\r\n        top: 50%;\r\n        left: 50%;\r\n        margin-top: -25px;\r\n        margin-left: -25px;\r\n    }\r\n\r\n\r\n    .sticky-left-side::-webkit-scrollbar {\r\n        width: 6px;\r\n    }\r\n\r\n    .sticky-left-side::-webkit-scrollbar-thumb {\r\n        border-radius: 10px;\r\n        background-color: #0099de;\r\n    } </style> <!--Start Main Theme Body--> <section id="container"> <div id="loaderDiv" loading> <img src="images/cargando.gif" class="ajax-loader"> </div> <!--header start--> <!--<header ng-include="\'partials/header/header.html\'" class="header"></header>--> <header class="header-section" data-ng-controller="profileController" data-ng-init="init()" ng-show="Mostrar"> <!--<div class="sidebar-toggle-box" >\r\n\r\n            <div class="fa fa-bars tooltips" data-placement="right" data-original-title="Toggle Navigation"></div>\r\n        </div>--> <a class="toggle-btn top-togg"><i class="fa fa-bars"></i></a> <!--logo start--> <!--logo end\r\n        <div class="nav notify-row" id="top_menu">\r\n             notification start\r\n            <ul class="nav top-menu">\r\n                 settings start\r\n                 settings end\r\n                 inbox dropdown start\r\n                 inbox dropdown end\r\n            </ul>\r\n             notification end\r\n        </div>--> <!--<div data-ng-controller="menuController" ng-init="loadMenu()">\r\n            <div style="display: inline-flex;margin-left: 20px;">\r\n                <label style="font-size: inherit;margin: auto;">Aplicaciones:</label>\r\n                <li style="padding:10px; display: inherit;padding: 10px; position: inherit; z-index: 2; width: 203px;list-style:none;float:left">\r\n                    <div class="centered workspaces">\r\n                        <div class="input-group">\r\n                            <div ng-controller="menuController">\r\n                                <div class="dropdown">\r\n                                    <button class="btn btn-default" ng-style="{\'width\':\'171px\', \'text-align\':\'left\',}" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\r\n                                        {{currentWorkspace.name}}\r\n                                        <span class="caret">\r\n                                        </span>\r\n                                    </button>\r\n                                    <ul class="dropdown-menu DropDown" aria-labelledby="dropdownMenu1">\r\n                                        <li ng-repeat="workspace in additionalWorkspaces">\r\n                                            <a ng-click="changeWorkspace(workspace.Id)">\r\n                                                {{workspace.name}}\r\n                                            </a>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </div>\r\n        </div>--> <div class="top-menu"> <ul class="nav pull-right top-menu log"> <li class="dropdown profile_details_drop"> <a href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true"> <div class="profile_img"> <span style="background: url(\'/app/style/Imagenes/1.jpg\')"> </span> <div class="user-name"> <p>Michael<span>Administrator</span></p> </div> <i class="lnr lnr-chevron-down"></i> <i class="lnr lnr-chevron-up"></i> <div class="clearfix"></div> </div> </a> <ul class="dropdown-menu drp-mnu" id="Logoutmenu"> <li> <a href="" ng-click="logOut()"><i class="fa fa-sign-out"></i> Logout</a> </li> </ul> </li> <div class="clearfix"> </div> </ul> </div> <div class="col-xs-1" ng-controller="menuController" ng-init="loadMenu()"> <!-- col-3-navegacion--> <nav class="btns-top"> <ul class="nav navbar-nav navbar-right"> <li class="dropdown"> <!-- btn menu--> <a href="" class="dropdown-toggle left-togg" data-toggle="dropdown" role="button"><img src="images/menu.png"></a> <ul class="dropdown-menu drow-left left-cont" aria-labelledby="dropdownMenu1"> <li class="iten-menu" ng-repeat="workspace in additionalWorkspaces"> <a class="icon-dropdown" ng-click="changeWorkspace(workspace.Id)"> <img src="images/menu.png"> {{workspace.name}} </a> </li> </ul> <!--<ul class="dropdown-menu drow-left left-cont">\r\n\r\n                            <li class="iten-menu"><a class="icon-dropdown" href="#"><img src="images/menu.png">NSkySales_AppEngine</a></li>\r\n                            <li class="iten-menu"><a class="icon-dropdown" href="#"><img src="images/menu.png">NSkySales</a></li>\r\n\r\n                        </ul>--> </li><!-- btn menu--> </ul> </nav> </div> <!-- col-3-navegacion--> </header> <!--header end--> <!--sidebar start--> <!--<aside ng-include="\'partials/sidebar/sidebar.html\'"></aside>--> <div class="left-side sticky-left-side" ng-show="MostarMenu"> <!--logo and iconic logo start--> <div class="sticky-header"> <div class="logo"> <h1><img src="images/app-logo.png"></h1> </div> </div> <!--logo and iconic logo end--> <div data-ng-controller="menuController" ng-init="loadMenu()" class="left-side-inner"> <ul class="nav nav-pills nav-stacked custom-nav" id="nav-accordion" data-ng-controller="menuController"> <!--<div ng-include="\'themes/DashGum/backand/partials/profile/profile.html\'"></div>--> <li class="menu-list" ng-repeat="p in pages" data-ng-if="p.partType == \'table\' || p.partType == \'dashboard\'|| p.partType == \'content\'" ng-click="setCurrentMenuSelection({isModule: p.isModule, partId:p.partId, name:p.name ,index :$index ,partType:p.partType, entityId:p.id}, null)"> <a href=""> <i class="fa custom-icon" icon-type="p.partType"></i> <span>{{p.name}}</span> </a> <ul class="sub-menu-list" ng-show="p.pages"> <li ng-repeat="page in p.pages" data-ng-if="page.partType == \'table\' || page.partType == \'dashboard\'|| page.partType == \'content\'" ng-click="setCurrentMenuSelection({partId:page.partId, name:page.name ,index:$index ,partType:page.partType, entityId:page.id}, {partId:p.partId, name:p.name ,index :$index ,partType:p.partType}); $event.stopPropagation()"> <a href=""><i class="fa custom-icon" icon-type="p.partType"></i>{{page.name}} </a> </li> </ul> </li> </ul> </div> </div> <style> .DropDown {\r\n            overflow-x: hidden;\r\n            height: 127px;\r\n            width: 100px;\r\n            background-color: #464646;\r\n            padding: 8px !important;\r\n            height: auto !important;\r\n            /*margin-left:35px;*/\r\n        } </style> <!--sidebar end--> <!--main content start--> <section class="main-content"> <section class="wrapper bknd-container" ng-view></section> </section> <!--main content end--> <!--footer start--> <!--<footer class="site-footer">\r\n        <div class="text-center">\r\n            App Engine\r\n            <a href="#" class="go-top">\r\n                <i class="fa fa-angle-up"></i>\r\n            </a>\r\n        </div>\r\n    </footer>--> <!--footer end--> </section> <!--End Main Theme Body-->'),a.put("partials/login/login.html",' <!--<link href="style/Login/bootstrap.min.css" rel="stylesheet" type="text/css"/>--> <!--<script src="style/js/wow.min.js"></script>--> <script> $(\'.message a\').click(function(){\r\n           $(\'form\').animate({height: "toggle", opacity: "toggle"}, "slow");\r\n         }); </script> <!--<section id="main-content">\r\n    <section style="background-image: url(style/Imagenes/fondo.jpg);height: 711px;" class="wrapper bknd-container" ng-view></section>\r\n</section>--> <div id="loginModal" style="" class="login-page center-login" tabindex="-1" role="dialog" aria-hidden="true" ng-controller="signInController"> <!--<div class="modal-dialog">\r\n        <div class="modal-content">--> <!--<div class="modal-header">\r\n                <h1 class="text-center">Iniciar sesión</h1>\r\n            </div>--> <div class="form"> <img class="logo-etb" src="images/app.png"> <form class="" ng-submit="authentication()"> <input type="text" name="email" ng-model="user" placeholder="Correo" required> <input type="password" name="password" ng-model="password" placeholder="Contraseña" required> <button ng-show="!waiting" style="height:10%">Login</button> <div class="form-group has-error text-left"> <span class="help-block">{{loginError}}</span> </div> <!--<div class="form-group">\r\n                        <input type="email" name="email" class="form-control input-lg" ng-model="user" placeholder="Correo" required>\r\n                    </div>--> <!--<div class="form-group">\r\n                        <input type="password" name="password" class="form-control input-lg" ng-model="password" placeholder="Contraseña" required>\r\n                    </div>--> <!-- <div class="form-group">\r\n                        <input type="text" class="form-control input-lg" ng-model="appName" placeholder="Aplicación" required>\r\n                    </div> --> <!--<div class="">--> <!--<input class="btn btn-primary btn-lg btn-block" type="submit" value="Ingresar" ng-show="!waiting">--> <!--<img class="img-responsive center-block" ng-show="waiting" src="backand/img/ajax-loader.gif" />--> <!--</div>--> </form> </div> <!--<div class="modal-footer">\r\n                \r\n            </div>--> <!--</div>\r\n    </div>--> </div> '),a.put("partials/menu/menu.html",'<!--<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>\r\n<link href="/app/style/css/bootstrap.min.css" rel="stylesheet" />\r\n<link href="/app/style/css/style.css" rel="stylesheet" type="text/css" />\r\n<link href="/App/style/css/font-awesome.css" rel="stylesheet" type="text/css" />\r\n<link href="/app/style/css/icon-font.min.css" rel="stylesheet" type="text/css" />\r\n<script src="/app/style/js/Chart.js"></script>\r\n<link href="/app/style/css/animate.css" rel="stylesheet" type="text/css" />\r\n<script src="/app/style/js/wow.min.js"></script>\r\n<link href=\'//fonts.googleapis.com/css?family=Cabin:400,400italic,500,500italic,600,600italic,700,700italic\' rel=\'stylesheet\' type=\'text/css\'>--> <!--<div class="left-side sticky-left-side" ng-show="MostarMenu">--> <!--logo and iconic logo start--> <!--<div class="sticky-header ">\r\n        <div class="logo">\r\n            <h1><img src="style/Imagenes/app-logo.png"></h1>\r\n        </div>\r\n      \r\n    </div>--> <!--logo and iconic logo end--> <!--<div data-ng-controller="menuController" ng-init="loadMenu()" class="left-side-inner">\r\n        <ul class="sidebar-menu" id="nav-accordion" data-ng-controller="menuController">\r\n            <div ng-include="\'themes/DashGum/backand/partials/profile/profile.html\'"></div>\r\n            <li class="" style="padding:10px;">\r\n                <div class="centered workspaces">\r\n                    <div class="input-group">\r\n                        <div ng-controller="menuController">\r\n                            <div class="dropdown">\r\n                                <button class="btn btn-default dropdown-toggle" ng-style="{\'width\':\'190px\',\'margin-left\':\'8%\', \'text-align\':\'left\'}" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">\r\n                                    {{currentWorkspace.name}}\r\n                                    <span class="caret">\r\n                                    </span>\r\n                                </button>\r\n                                <ul class="dropdown-menu DropDown" aria-labelledby="dropdownMenu1">\r\n                                    <li ng-repeat="workspace in additionalWorkspaces">\r\n                                        <a ng-click="changeWorkspace(workspace.Id)">\r\n                                            {{workspace.name}}\r\n                                        </a>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n            <br />\r\n            <li class="menu-list" ng-repeat="p in pages" data-ng-if="p.partType == \'table\' || p.partType == \'dashboard\'|| p.partType == \'content\'" ng-click="setCurrentMenuSelection({partId:p.partId, name:p.name ,index :$index ,partType:p.partType, entityId:p.id}, null)">\r\n                <a href="">\r\n                    <i class="fa custom-icon" icon-type="p.partType"></i>\r\n                    <span>{{p.name}}</span>\r\n                </a>\r\n                <ul class="sub" ng-show="p.pages" style="background-color:#D4D5DA">\r\n                    <li ng-repeat="page in p.pages" data-ng-if="page.partType == \'table\' || page.partType == \'dashboard\'|| page.partType == \'content\'" ng-click="setCurrentMenuSelection({partId:page.partId, name:page.name ,index:$index ,partType:page.partType, entityId:p.id}, {partId:p.partId, name:p.name ,index :$index ,partType:p.partType}); $event.stopPropagation()">\r\n                        <a href="">\r\n                            <i class="fa custom-icon" icon-type="page.partType"></i>\r\n                            <span>{{page.name}}</span>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n    </div>--> <!--</div>--> <!--<style>\r\n    .DropDown{\r\n        overflow-x:scroll;\r\n        overflow-x:hidden;\r\n        height:200px;\r\n        width:100px;\r\n        background-color:#EAEAEA\r\n    }\r\n</style>-->'),a.put("partials/navigation/navigation.html","<div bknd-navigation></div>"),a.put("partials/sidebar/sidebar.html",'<div id="sidebar" class="nav-collapse"> <div ng-include="\'partials/menu/menu.html\'" class="sidebar"></div> </div> ')}]);